var __slice=Array.prototype.slice,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp=Object.prototype.hasOwnProperty,__extends=function(a,b){function d(){this.constructor=a}for(var c in b)__hasProp.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};(function(window){var __Wistia__;__Wistia__=window.Wistia;if(window.Wistia==null||window.Wistia.wistia==null)window.Wistia={wistia:"1.0",extend:function(){var a,b,c,d,e;a=arguments[0],c=2<=arguments.length?__slice.call(arguments,1):[],c.length||(c=[a],a=this);for(d=0,e=c.length;d<e;d++)b=c[d],this.obj.eachDeep(b,__bind(function(b,c){var d;d=this.obj.get(a,c);if(this.obj.isArray(b)){if(this.obj.isEmpty(d))return this.obj.set(a,c,[])}else{if(!this.obj.isObject(b))return this.obj.set(a,c,b);if(this.obj.isEmpty(d))return this.obj.set(a,c,{})}},this));return a},proto:function(a){return a==null&&(a=window.location.href),/^https:\/\//.test(a)?"https:":"http:"},mixin:function(a,b){var c,d;for(c in b)d=b[c],b.hasOwnProperty(c)&&(a[c]=d)},obj:{get:function(a,b,c){var d,e,f;typeof b=="string"?b=b.split("."):b=b.slice(0,b.length),d=a;while(a!=null&&b.length)f=b.shift(),(a[f]===void 0||!this.isObject(a[f])&&!this.isArray(a[f]))&&c&&(f===0?(a=d[e]=[],a[f]={}):a[f]={}),d=a,e=f,a=a[f];return a},set:function(a,b,c){var d;typeof b=="string"?b=b.split("."):b=b.slice(0,b.length),d=b.pop(),a=this.get(a,b,!0);if(a!=null&&(this.isObject(a)||this.isArray(a))&&d!=null)return c!=null?a[d]=c:delete a[d]},unset:function(a,b){return this.set(a,b)},exists:function(a,b){return this.get(a,b)!==void 0},cast:function(a){return a==null?a:(a=""+a,/^\d+?$/.test(a)?parseInt(a,10):/^\d*\.\d+/.test(a)?parseFloat(a):/^true$/i.test(a)?!0:/^false$/i.test(a)?!1:a)},castDeep:function(a){return this.eachLeaf(a,__bind(function(b,c){if(typeof b=="string")return this.set(a,c,this.cast(b))},this)),a},isArray:function(a){return a!=null&&/^\s*function Array()/.test(a.constructor)},isObject:function(a){return a!=null&&/^\s*function Object()/.test(a.constructor)},isRegExp:function(a){return a!=null&&/^\s*function RegExp()/.test(a.constructor)},isBasicType:function(a){return a!=null&&(this.isRegExp(a)||/^string|number|boolean|function$/i.test(typeof a))},isEmpty:function(a){var b,c,d;if(a==null)return!0;if(this.isArray(a)&&!a.length)return!0;if(this.isObject(a)){b=!0;for(c in a)d=a[c],b=!1;return b}return!1},isEmptyDeep:function(a){var b;return this.isEmpty(a)?!0:(b=!0,this.eachLeaf(a,__bind(function(){return b=!1},this)),b)},isSubsetDeep:function(a,b){var c;return a===b?!0:a!=null&&b==null||a==null&&b!=null?!1:(c=!0,this.eachLeaf(a,__bind(function(a,d){var e;e=this.get(b,d);if(a!==e)return c=!1},this)),c)},equalsDeep:function(a,b){return this.isSubsetDeep(a,b)&&this.isSubsetDeep(b,a)},eachDeep:function(a,b,c){var d,e,f;c==null&&(c=[]);if(this.isBasicType(a))b(a,c);else if(this.isObject(a)||this.isArray(a)){b(a,c);for(d in a)f=a[d],e=c.slice(0,c.length),e.push(d),this.eachDeep(f,b,e)}else b(a,c)},eachLeaf:function(a,b){return this.eachDeep(a,__bind(function(a,c){if(!this.isArray(a)&&!this.isObject(a))return b(a,c)},this))}},data:function(a,b){return this.obj.isArray(a)||(a=a.split(".")),b!=null&&this.obj.set(this,["_data"].concat(a),b),this.obj.get(this,["_data"].concat(a))},timeout:function(a,b,c){var d;return c==null&&(c=1),this.clearTimeouts(a),this.obj.isArray(a)||(a=a.split(".")),a=["timeouts"].concat(a),b?(d=setTimeout(__bind(function(){return this.removeData(a),b()},this),c),this.data(a,d)):this.data(a)},clearTimeouts:function(a){var b;return this.obj.isArray(a)||(a=a.split(".")),a=["timeouts"].concat(a),b=this.data(a),this.obj.eachLeaf(b,function(a){return clearTimeout(a)}),this.removeData(a)},removeData:function(a){return this.obj.unset(this,["_data"].concat(a))},seqId:function(a,b){var c,d,e;return a==null&&(a="wistia_"),b==null&&(b=""),e=["sequence","val"],c=this.data(e)||1,d=a+c+b,this.data(e,c+1),d},noConflict:function(){return window.Wistia=__Wistia__,this},util:{bindEvent:function(a,b,c){return Wistia.detect.browser.msie?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},unbindEvent:function(a,b,c){return Wistia.detect.browser.msie?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)},eventOutsideElem:function(a,b){var c,d,e,f;return a=a||window.event,c=this.pageOffset(b),d=this.eventPageOffset(a),e=d.left<=c.left||d.left>=c.left+Wistia.util.elemWidth(b),f=d.top<=c.top||d.top>=c.top+Wistia.util.elemHeight(b),e||f},pageOffset:function(a){var b,c;b=c=0;if(a.offsetParent)while(a)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{left:b,top:c}},eventPageOffset:function(a){var b,c;if(a.pageX||a.pageY)b=a.pageX,c=a.pageY;else if(a.clientX||a.clientY)b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;return{left:b,top:c}},elemHeight:function(a){var b;return b=Wistia.detect.browser.quirks?parseInt(a.offsetHeight,10):window.getComputedStyle&&getComputedStyle(a,null)?parseInt(getComputedStyle(a,null).height,10):a.currentStyle?a.offsetHeight:-1,b},elemWidth:function(a){return Wistia.detect.browser.quirks?parseInt(a.offsetWidth,10):window.getComputedStyle&&getComputedStyle(a,null)?parseInt(getComputedStyle(a,null).width,10):a.currentStyle?a.offsetWidth:-1},elemIsHidden:function(a){while(a&&a.nodeType===1){if(a.style.display==="none")return!0;a=a.parentNode}return!1},elemInDom:function(a){while(a=a.parentNode)if(a===document)return!0;return!1},winHeight:function(){var a;return a=window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight},winWidth:function(){var a;return a=window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth},elemStyle:function(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?getComputedStyle(a,null).getPropertyValue(b):null},appendElem:function(a,b){return a.appendChild(b)},prependElem:function(a,b){return a.childNodes.length===0?this.appendElem(a,b):a.insertBefore(b,a.childNodes[0])},removeElem:function(a){var b;if(a&&(b=a.parentNode))return b.removeChild(a),a=null},removeClass:function(a,b){var c;if(a.className!=null)return c=new RegExp("s*"+b+"s*","g"),a.className=a.className.replace(c,"")},addClass:function(a,b){return a.className!=null?(this.removeClass(a,b),a.className=""+a.className+" "+b):a.className=b},addInlineCss:function(a,b){var c,d;return c=document.createElement("style"),c.id=Wistia.seqId("wistia_","_style"),c.setAttribute("type","text/css"),d=document.getElementsByTagName("style"),a.appendChild(c,a.nextSibling),c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b)),c},scriptTags:function(a){return a.match(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g)||[]},execScriptTags:function(scriptTags,callback){var hash,hashes,matches,scriptTag,src,_i,_len;scriptTags instanceof Array||(scriptTags=Wistia.util.scriptTags(scriptTags)),hashes=[];for(_i=0,_len=scriptTags.length;_i<_len;_i++){scriptTag=scriptTags[_i],hash={};if((matches=scriptTag.match(/<script.*?>/i))&&(matches=matches[0].match(/src="([^"]+)"/i)))hash.src=matches[1],hash.async=/async/i.test(scriptTag.replace(hash.src,""));else if(matches=scriptTag.match(/<script>([\s\S]+?)<\/script>/i))src=matches[1],hash.fn=function(){return eval(src)};hashes.push(hash)}return Wistia.remote.scripts(hashes,callback)},removeScriptTags:function(a){return a.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,"")}},bindable:{bind:function(a,b){return this._bindings||(this._bindings={}),this._bindings[a]||(this._bindings[a]=[]),this._bindings[a].push(b),this},unbind:function(a,b){var c,d,e,f;this._bindings||(this._bindings={}),c=this._bindings[a];if(c)if(b){e=[];for(d=0,f=c.length;0<=f?d<f:d>f;0<=f?d++:d--)b!==c[d]&&e.push(c[d]);this._bindings[a]=e}else this._bindings[a]=[];return this._bindings[a]&&!this._bindings[a].length&&(this._bindings[a]=null,delete this._bindings[a]),this},hasBindings:function(){var a,b,c,d;this._bindings||(this._bindings={}),b=!1,d=this._bindings;for(a in d)c=d[a],this._bindings.hasOwnProperty(a)&&(b=!0);return b},trigger:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;e=arguments[0],a=2<=arguments.length?__slice.call(arguments,1):[],this._bindings||(this._bindings={}),f=[];if(c=this._bindings[e]){for(g=0,k=c.length;g<k;g++)d=c[g],d&&d.apply(this,a)===this.unbind&&f.push({event:e,fn:d});for(h=0,l=f.length;h<l;h++)b=f[h],this.unbind(b.event,b.fn)}if(c=this._bindings.all)for(i=0,m=c.length;i<m;i++)d=c[i],d&&d.apply(this,[e].concat(a))===this.unbind&&f.push({event:e,fn:d});for(j=0,n=f.length;j<n;j++)b=f[j],this.unbind(b.event,b.fn);return this}},createReadyFunction:function(a){var b,c,d,e,f,g,h,i;return g=[],e=!1,f=!1,c=function(){var a,b,c,h,i,j;f=!0;for(b=0,j=g.length;0<=j?b<j:b>j;0<=j?b++:b--){a=g[b],(a!=null?a.callback:void 0)!=null&&(d(a.callback,a.args),g[b]=null);if(!e)break}c=[];for(h=0,i=g.length;h<i;h++)a=g[h],a!=null&&c.push(a);return g=c,f=!1},d=function(b,c){if(b)return b.apply(a,c)},b=function(a,b){if(a&&a!==!0)return g.push({callback:a,args:b})},i=function(a){var b,c,d,e;c=[];for(d=0,e=g.length;d<e;d++)b=g[d],a!==(b!=null?b.callback:void 0)&&c.push(a);return g=c},h=function(){var h,j;return j=arguments[0],h=2<=arguments.length?__slice.call(arguments,1):[],j===!0?(e=!0,c(),a):j===!1?(e=!1,a):j==="remove"?(i(h[0]),a):j==="queue"?h[0]!=null?(g=h[0],a):g:j!=null?(e?f?d(j,h):(b(j,h),c()):b(j,h),a):e},h}};if(__Wistia__!=null&&__Wistia__.wistia==null)return Wistia.extend(__Wistia__)})(window),function(){function y(b){var c,e,g,h='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',i=b=="json";if(i||b=="json-stringify"||b=="json-parse"){if(b=="json-stringify"||i){if(c=typeof f.stringify=="function"&&t){(g=function(){return 1}).toJSON=g;try{c=f.stringify(0)==="0"&&f.stringify(new Number)==="0"&&f.stringify(new String)=='""'&&f.stringify(a)===d&&f.stringify(d)===d&&f.stringify()===d&&f.stringify(g)==="1"&&f.stringify([g])=="[1]"&&f.stringify([d])=="[null]"&&f.stringify(null)=="null"&&f.stringify([d,a,null])=="[null,null,null]"&&f.stringify({A:[g,true,false,null,"\0\b\n\f\r\t"]})==h&&f.stringify(null,g)==="1"&&f.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&f.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&f.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&f.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&f.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(j){c=!1}}if(!i)return c}if(b=="json-parse"||i){if(typeof f.parse=="function")try{if(f.parse("0")===0&&!f.parse(!1)){g=f.parse(h);if(e=g.A.length==5&&g.A[0]==1){try{e=!f.parse('"\t"')}catch(j){}if(e)try{e=f.parse("01")!=1}catch(j){}}}}catch(j){e=!1}if(!i)return e}return c&&e}}var a={}.toString,b,c,d,e=typeof define=="function"&&define.amd,f=!e&&typeof exports=="object"&&exports;f=this.JSON||(this.JSON={});var g,h,i,j,k,l,m,n,o,p,q,r,s,t=new Date(-0xc782b5b800cec),u,v,w;try{t=t.getUTCFullYear()==-109252&&t.getUTCMonth()===0&&t.getUTCDate()==1&&t.getUTCHours()==10&&t.getUTCMinutes()==37&&t.getUTCSeconds()==6&&t.getUTCMilliseconds()==708}catch(x){}y("json")||(t||(u=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(a,b){return v[b]+365*(a-1970)+u((a-1969+(b=+(b>1)))/4)-u((a-1901+b)/100)+u((a-1601+b)/400)}),(b={}.hasOwnProperty)||(b=function(c){var d={},e;return(d.__proto__=null,d.__proto__={toString:1},d).toString!=a?b=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(e=d.constructor,b=function(a){var b=(this.constructor||e).prototype;return a in this&&!(a in b&&this[a]===b[a])}),d=null,b.call(this,c)}),c=function(c,d){var e=0,f,g,h,i;(f=function(){this.valueOf=0}).prototype.valueOf=0,g=new f;for(h in g)b.call(g,h)&&e++;return f=g=null,e?e==2?i=function(c,d){var e={},f=a.call(c)=="[object Function]",g;for(g in c)(!f||g!="prototype")&&!b.call(e,g)&&(e[g]=1)&&b.call(c,g)&&d(g)}:i=function(c,d){var e=a.call(c)=="[object Function]",f,g;for(f in c)(!e||f!="prototype")&&b.call(c,f)&&!(g=f==="constructor")&&d(f);(g||b.call(c,f="constructor"))&&d(f)}:(g=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(c,d){var e=a.call(c)=="[object Function]",f,h;for(f in c)(!e||f!="prototype")&&b.call(c,f)&&d(f);for(h=g.length;f=g[--h];b.call(c,f)&&d(f));}),i(c,d)},y("json-stringify")||(g={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},h=function(a,b){return("000000"+(b||0)).slice(-a)},i=function(a){var b='"',c=0,d;for(;d=a.charAt(c);c++)b+='\\"\b\f\n\r\t'.indexOf(d)>-1?g[d]:g[d]=d<" "?"\\u00"+h(2,d.charCodeAt(0).toString(16)):d;return b+'"'},j=function(e,f,g,k,l,m,n){var o=f[e],p,q,r,s,t,v,x,y,z,A,B,C,D,E,F,G;if(typeof o=="object"&&o){p=a.call(o);if(p=="[object Date]"&&!b.call(o,"toJSON"))if(o>-1/0&&o<1/0){if(w){s=u(o/864e5);for(q=u(s/365.2425)+1970-1;w(q+1,0)<=s;q++);for(r=u((s-w(q,0))/30.42);w(q,r+1)<=s;r++);s=1+s-w(q,r),t=(o%864e5+864e5)%864e5,v=u(t/36e5)%24,x=u(t/6e4)%60,y=u(t/1e3)%60,z=t%1e3}else q=o.getUTCFullYear(),r=o.getUTCMonth(),s=o.getUTCDate(),v=o.getUTCHours(),x=o.getUTCMinutes(),y=o.getUTCSeconds(),z=o.getUTCMilliseconds();o=(q<=0||q>=1e4?(q<0?"-":"+")+h(6,q<0?-q:q):h(4,q))+"-"+h(2,r+1)+"-"+h(2,s)+"T"+h(2,v)+":"+h(2,x)+":"+h(2,y)+"."+h(3,z)+"Z"}else o=null;else typeof o.toJSON=="function"&&(p!="[object Number]"&&p!="[object String]"&&p!="[object Array]"||b.call(o,"toJSON"))&&(o=o.toJSON(e))}g&&(o=g.call(f,e,o));if(o===null)return"null";p=a.call(o);if(p=="[object Boolean]")return""+o;if(p=="[object Number]")return o>-1/0&&o<1/0?""+o:"null";if(p=="[object String]")return i(o);if(typeof o=="object"){for(D=n.length;D--;)if(n[D]===o)throw TypeError();n.push(o),A=[],E=m,m+=l;if(p=="[object Array]"){for(C=0,D=o.length;C<D;F||(F=!0),C++)B=j(C,o,g,k,l,m,n),A.push(B===d?"null":B);G=F?l?"[\n"+m+A.join(",\n"+m)+"\n"+E+"]":"["+A.join(",")+"]":"[]"}else c(k||o,function(a){var b=j(a,o,g,k,l,m,n);b!==d&&A.push(i(a)+":"+(l?" ":"")+b),F||(F=!0)}),G=F?l?"{\n"+m+A.join(",\n"+m)+"\n"+E+"}":"{"+A.join(",")+"}":"{}";return n.pop(),G}},f.stringify=function(b,c,d){var e,f,g,h,i,k;if(typeof c=="function"||typeof c=="object"&&c)if(a.call(c)=="[object Function]")f=c;else if(a.call(c)=="[object Array]"){g={};for(h=0,i=c.length;h<i;k=c[h++],(a.call(k)=="[object String]"||a.call(k)=="[object Number]")&&(g[k]=1));}if(d)if(a.call(d)=="[object Number]"){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else a.call(d)=="[object String]"&&(e=d.length<=10?d:d.slice(0,10));return j("",(k={},k[""]=b,k),f,g,e,"",[])}),y("json-parse")||(k=String.fromCharCode,l={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"},m=function(){throw r=s=null,SyntaxError()},n=function(){var a=s,b=a.length,c,d,e,f,g;while(r<b){c=a.charAt(r);if("\t\r\n ".indexOf(c)>-1)r++;else{if("{}[]:,".indexOf(c)>-1)return r++,c;if(c=='"'){for(d="@",r++;r<b;){c=a.charAt(r);if(c<" ")m();else if(c=="\\"){c=a.charAt(++r);if('\\"/btnfr'.indexOf(c)>-1)d+=l[c],r++;else if(c=="u"){e=++r;for(f=r+4;r<f;r++)c=a.charAt(r),c>="0"&&c<="9"||c>="a"&&c<="f"||c>="A"&&c<="F"||m();d+=k("0x"+a.slice(e,r))}else m()}else{if(c=='"')break;d+=c,r++}}if(a.charAt(r)=='"')return r++,d;m()}else{e=r,c=="-"&&(g=!0,c=a.charAt(++r));if(c>="0"&&c<="9"){c=="0"&&(c=a.charAt(r+1),c>="0"&&c<="9")&&m(),g=!1;for(;r<b&&(c=a.charAt(r),c>="0"&&c<="9");r++);if(a.charAt(r)=="."){f=++r;for(;f<b&&(c=a.charAt(f),c>="0"&&c<="9");f++);f==r&&m(),r=f}c=a.charAt(r);if(c=="e"||c=="E"){c=a.charAt(++r),(c=="+"||c=="-")&&r++;for(f=r;f<b&&(c=a.charAt(f),c>="0"&&c<="9");f++);f==r&&m(),r=f}return+a.slice(e,r)}g&&m();if(a.slice(r,r+4)=="true")return r+=4,!0;if(a.slice(r,r+5)=="false")return r+=5,!1;if(a.slice(r,r+4)=="null")return r+=4,null;m()}}}return"$"},o=function(a){var b,c,d;a=="$"&&m();if(typeof a=="string"){if(a.charAt(0)=="@")return a.slice(1);if(a=="["){b=[];for(;;c||(c=!0)){a=n();if(a=="]")break;c&&(a==","?(a=n(),a=="]"&&m()):m()),a==","&&m(),b.push(o(a))}return b}if(a=="{"){b={};for(;;c||(c=!0)){a=n();if(a=="}")break;c&&(a==","?(a=n(),a=="}"&&m()):m()),(a==","||typeof a!="string"||a.charAt(0)!="@"||n()!=":")&&m(),b[a.slice(1)]=o(n())}return b}m()}return a},q=function(a,b,c){var e=p(a,b,c);e===d?delete a[b]:a[b]=e},p=function(b,d,e){var f=b[d],g;if(typeof f=="object"&&f)if(a.call(f)=="[object Array]")for(g=f.length;g--;)q(f,g,e);else c(f,function(a){q(f,a,e)});return e.call(b,d,f)},f.parse=function(b,c){var d,e;return r=0,s=b,d=o(n()),n()!="$"&&m(),r=s=null,c&&a.call(c)=="[object Function]"?p((e={},e[""]=d,e),"",c):d})),e&&define(function(){return f})}.call(Wistia),function(a){var b;return a.extend({url:{paramsToJson:function(b){var c,d,e,f,g,h,i,j,k,l,m;i={};if(!b)return i;h=b.split("&");for(k=0,l=h.length;k<l;k++)g=h[k],m=g.split("="),f=m[0],j=m[1],f=this._debrack(decodeURIComponent(f)),f=function(){var b,c,d;d=[];for(b=0,c=f.length;b<c;b++)e=f[b],d.push(a.obj.cast(e));return d}(),d=a.obj.get(i,f),d!=null?a.obj.isArray(d)?d.push(this.urlComponentToJson(j)):(c=[d],c.push(this.urlComponentToJson(j)),a.obj.set(i,f,c)):a.obj.set(i,f,this.urlComponentToJson(j));return i},urlComponentToJson:function(b){var c;c=decodeURIComponent(b);if(typeof b!="string"||!/^[\{\[].*[\}\]]$/.test(c))return c;try{return a.JSON.parse(c)}catch(d){return c}},jsonToParams:function(b){var c;return c=[],a.obj.eachLeaf(b,__bind(function(a,b){return c.push(encodeURIComponent(this._brack(b))+"="+encodeURIComponent(a))},this)),c.join("&")},splitPath:function(a){var b,c,d,e,f;d=[],a!=null&&(c=a.split(/\/+/));for(e=0,f=c.length;e<f;e++)b=c[e],b!=null&&b!==""&&d.push(b);return d},joinPath:function(a){var b;return b="",a!=null&&(b="/"+a.join("/")),b},_brack:function(a){var b,c,d;c=a[0];for(b=1,d=a.length;1<=d?b<d:b>d;1<=d?b++:b--)c+="["+a[b]+"]";return c},_debrack:function(a){return a.match(/([\w\-\_]+)/g)}}}),b=function(){function b(a){this.params={},this.path=[],this.host="",typeof a=="object"?this.fromOptions(a):a&&this.fromRaw(a)}return b.prototype._paramsR=/\?(.+)$/,b.prototype.fromOptions=function(a){var b,c,d,e;e=["protocol","host","port","params","path"];for(c=0,d=e.length;c<d;c++)b=e[c],a[b]!=null&&(this[b]=a[b]);return this},b.prototype.fromRaw=function(b){var c;this.rawUrl=b;if(c=b.match(/^((?:https?\:)|(?:file\:)|(?:ftp\:))?\/\//))this.protocol=c[1];if(c=b.match(/\/\/([^\:\?\/]*)/))this.host=c[1];if(c=b.match(/\/\/.*?((?:\/[^\?#$]+))/)){this.rawPath=c[1],this._hasTrailingSlash=/\/$/.test(this.rawPath);if(c=this.rawPath.match(/\.(.+)$/))this.ext=c[1];this.path=a.url.splitPath(this.rawPath)}if(c=b.match(/\:(\d+)/))this.port=parseInt(c[1],10);if(c=b.match(/\?([^#]+)/))this.rawParams=c[1],this.params=a.url.paramsToJson(this.rawParams);if(c=b.match(/#(.*)$/))this.anchor=c[1];return this},b.prototype.clone=function(){return new b({protocol:this.protocol,host:this.host,port:this.port,path:a.extend([],this.path),params:this.params,anchor:this.anchor})},b.prototype.isRelative=function(){return(this.protocol==null||this.protocol===""||this.protocol===window.location.protocol)&&(!this.host||this.host===window.location.hostname)},b.prototype.toString=function(){return this.isRelative()?this.relative():this.absolute()},b.prototype.absolute=function(){var a,b;return b="",this.protocol!=null&&(b=this.protocol),a="",this.port!=null&&(a=":"+this.port),""+b+"//"+this.host+a+this.relative()},b.prototype.relative=function(){var b,c;return c="",this.path.length>0&&(c=a.url.joinPath(this.path),this._hasTrailingSlash&&(c+="/")),b="?"+a.url.jsonToParams(this.params),b.length===1&&(b=""),""+c+b+this.relativeAnchor()},b.prototype.relativeProtocol=function(){var a;return a="",this.port!=null&&(a=":"+this.port),"//"+this.host+a+this.relative()},b.prototype.relativeHost=function(){var a;return a="",this.protocol!=null&&(a=this.protocol),""+a+"//"+this.relative()},b.prototype.relativeAnchor=function(){var a;return a="",this.anchor!=null&&(a="#"+this.anchor),""+a},b}(),a.url.create=function(a){return new b(a)},a.url.parse=function(a){return new b(a)}}(Wistia),function(a){a.extend({_detect:{na:navigator.userAgent,rwebkit:/(webkit)[ \/]([^\s]+)/i,ropera:/(opera)(?:.*version)?[ \/]([^\s]+)/i,rmsie:/(msie) ([^\s;]+)/i,rmozilla:/(mozilla)(?:.*? rv:([^\s]+))?/i,randroid:/(android) ([^;]+)/i,riphone:/(iphone)/i,ripad:/(ipad)/i,rwinphone:/(Windows Phone OS (\d+(?:\.\d+)?))/,rios:/OS (\d+)_(\d+)/i,rps3:/(playstation 3)/i,browser:function(){return this.browserMatch()[1].toLowerCase()},browserVersion:function(){return this.browserMatch()[2]},browserMatch:function(){var a;if((a=this.na.match(this.rwebkit))!=null)return a;if((a=this.na.match(this.ropera))!=null)return a;if(a=this.na.match(this.rmsie))return document.documentMode!=null&&(a[2]=document.documentMode),a;if(a=this.na.match(this.rmozilla))return a},android:function(){var a;return a=this.na.match(this.randroid),a==null?!1:{version:a[2]}},oldandroid:function(){return this.android()&&this.android().version<"4.1.0"},iphone:function(){return this.riphone.test(this.na)},retina:function(){return window.devicePixelRatio>1},ipad:function(){return this.ripad.test(this.na)},safari:function(){return this.rwebkit.test(this.na)&&!/chrome/i.test(this.na)&&!this.ipad()&&!this.iphone()},iosVersion:function(){var a;return a=this.na.match(this.rios),a!=null?parseFloat(""+a[1]+"."+a[2]):0},windowsPhone:function(){return this.rwinphone.test(this.na)},ps3:function(){return this.rps3.test(this.na)},flash:function(){var a;return a=this.flashFullVersion(),{version:parseFloat(a[0]+"."+a[1]),major:parseInt(a[0],10),minor:parseInt(a[1],10),rev:parseInt(a[2],10)}},flashFullVersion:function(){var a;try{try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(b){return[6,0,0]}}catch(b){}return(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(b){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(b){}}return[0,0,0]},html5Video:function(){var a,b,c;a=document.createElement("video"),c=!1;try{!a.canPlayType||(c={},b='video/mp4; codecs="avc1.42E01E',c.h264=!!a.canPlayType(b+'"')||!!a.canPlayType(b+', mp4a.40.2"'))}catch(d){c={h264:!1}}return c},localStorage:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(a){return!1}},json:function(){return!!window.JSON&&typeof JSON.parse=="function"},backgroundSize:function(){var a;return a=document.createElement("div"),a.style.backgroundSize===""||a.style.webkitBackgroundSize===""||a.style.mozBackgroundSize===""||a.style.oBackgroundSize===""}}}),a.extend({detect:{browser:{version:a._detect.browserVersion(),quirks:a._detect.browser()==="msie"&&document.compatMode==="BackCompat",old:a._detect.browser()==="msie"&&(document.compatMode==="BackCompat"||a._detect.browserVersion()<7),ltie8:a._detect.browser()==="msie"&&(document.compatMode==="BackCompat"||a._detect.browserVersion()<8)},android:a._detect.android(),oldandroid:a._detect.oldandroid(),iphone:a._detect.iphone(),ipad:a._detect.ipad(),safari:a._detect.safari(),winphone:{version:a._detect.windowsPhone()[2]},ios:{version:a._detect.iosVersion()},retina:a._detect.retina(),ps3:a._detect.ps3(),flash:a._detect.flash(),video:a._detect.html5Video(),localstorage:a._detect.localStorage(),json:a._detect.json(),backgroundSize:a._detect.backgroundSize()}}),a.detect.browser[a._detect.browser()]=!0}(Wistia),function(a){var b,c,d,e;c=function(a,b){return b.videoQuality==="hd-only"?a.hdflv||a.mdflv||a.flv||a.mp4hq||a.iphone:b.videoQuality==="md"||b.videoWidth&&b.videoWidth>=720?a.mdflv||a.flv||a.mp4hq||a.iphone:a.flv||a.mp4hq||a.iphone},d=function(b,c){return c.videoQuality==="hd-only"?b.hdmp4||b.mdmp4||b.mp4hq||b.iphone:!a.detect.iphone&&!a.detect.android&&(c.videoQuality==="md"||c.videoWidth&&c.videoWidth>=720)?b.mdmp4||b.mp4hq||b.iphone:b.mp4hq||b.iphone},b=function(a){return a.iphone},e=function(b,c){return b.hdmp4&&a.detect.retina?b.hdmp4:b.mdmp4&&a.detect.retina?b.mdmp4:b.mdmp4&&c.videoWidth&&c.videoWidth>=720?b.mdmp4:b.mp4hq&&b.mp4hq.width<=1280&&b.mp4hq.height<=720?b.mp4hq:b.iphone},a.extend({judy:{judge:function(f,g){var h,i,j,k;return g=a.extend({},g),j=g.plea||g.platformPreference,i=g.force,k={media:f,plea:i||j,uuid:g.uuid||a.seqId("wistia_"),asset:null,embedType:null},h=f.assets,i==="html5"?(k.embedType="html5",k.asset=d(h,g)):i==="flash"?(k.embedType="flash",k.asset=c(h,g)):i==="external"?(k.embedType="external",k.asset=b(h,g)):a.detect.iphone?(k.embedType="html5",k.asset=b(h,g)):a.detect.ipad?(k.embedType="html5",k.asset=e(h,g)):a.detect.oldandroid?window.location.protocol==="https:"&&a.detect.flash.version>=9?(k.embedType="flash",k.asset=c(h,a.extend(g,{videoQuality:"sd-only"}))):(k.embedType="external",k.asset=b(h,g)):j==="html5"&&a.detect.video.h264?(k.embedType="html5",k.asset=d(h,g)):j==="flash"&&a.detect.flash.version>=9?(k.embedType="flash",k.asset=c(h,g)):j==="external"?(k.embedType="external",k.asset=b(h,g)):a.detect.flash.version>=9?(k.embedType="flash",k.asset=c(h,g)):a.detect.video.h264?(k.embedType="html5",k.asset=d(h,g)):a.detect.browser.msie&&(a.detect.browser.version<9||a.detect.browser.quirks)||a.detect.browser.mozilla?(k.embedType="flash",k.asset=c(h,g)):(k.embedType="external",k.asset=b(h,g)),k}}})}(Wistia),function(a){a.extend({embed:function(b,c){var d,e,f,g;return c||(c={}),g=new a._embed.Video({},c),a.data(["video",g.uuid],g),typeof b=="string"?g._hashedId=b:g._hashedId=b.hashedId,g.container=d=a._embed.getContainer(b,c),g._startingWidth=a.util.elemWidth(d),g._startingHeight=a.util.elemHeight(d),g.grid=a.gridify(g.params,d),e=function(b){var c,e,f;if(!a.data(["video",g.uuid]))return;if(b.error){b.iframe?d.innerHTML="<iframe src='"+a.proto()+"//"+a.remote.embedHost()+"/embed/iframe/"+g.hashedId()+"' height='"+g.height()+"' width='"+g.width()+"' frameborder='0' scrolling='no'></iframe>":d.innerHTML="<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:"+g.width()+";height:"+g.height()+";'><div style='padding:20px;'>"+(b.message||b.error)+"</div></div>";return}c=a.judy.judge(b,a.extend({},g.params,{videoWidth:g.videoWidth(),videoHeight:g.videoHeight()})),f=a._embed.classFor(c.embedType),e=new f(c,g.options),g._copyPropertiesFrom(e),g.embed(),g.hasData(!0)},window.wistiaEmbeds&&wistiaEmbeds.bindHandles(),g.trigger("initembed"),f=a.plugin._scriptsFromVideo(g),a.plugin._execQueue(g,f,function(){var d;return c.wmode!=="transparent"&&(g.grid.center.style.backgroundColor="#000000"),typeof b=="string"?(d=b,a.remote.media(d,function(a){return e(a)})):a.timeout(""+g.uuid+".embed",function(){return e(b)},100)}),g},_embed:{hasLoaded:function(b){return a.localStorage("loadedVideos."+b)},hasPlayed:function(b){return a.localStorage("playedVideos."+b)},recordLoad:function(b){return a.localStorage("loadedVideos."+b,1),this.pruneLoadedVideos()},recordPlay:function(b){return a.localStorage("playedVideos."+b,1),this.prunePlayedVideos()},loadedVideos:function(){return a.localStorage("loadedVideos")||{}},loadedVideosCount:function(){var a,b,c,d;a=0,d=this.loadedVideos();for(b in d)c=d[b],a+=1;return a},pruneLoadedVideos:function(){var b,c,d;if(this.loadedVideosCount()>100){c=this.loadedVideos();for(b in c){d=c[b],c[b]=null,delete c[b];break}return a.localStorage("loadedVideos",c)}},playedVideos:function(){return a.localStorage("playedVideos")||{}},playedVideosCount:function(){var a,b,c,d;a=0,d=this.playedVideos();for(b in d)c=d[b],a+=1;return a},prunePlayedVideos:function(){var b,c,d;if(this.playedVideosCount()>100){c=this.playedVideos();for(b in c){d=c[b],c[b]=null,delete c[b];break}return a.localStorage("playedVideos",c)}},getContainer:function(a,b){return typeof b.container=="string"?document.getElementById(b.container):typeof a=="string"?document.getElementById("wistia_"+a):a&&a.media?document.getElementById("wistia_"+a.media.hashedId):a&&a.hashedId?document.getElementById("wistia_"+a.hashedId):null},classFor:function(b){switch(b){case"html5":return a._embed.Html5Video;case"flash":return a._embed.FlashVideo;case"external":return a._embed.ExternalVideo;default:return a._embed.Video}}}})}(Wistia),function(a){var b,c,d,e,f,g,h,i,j;return a.extend({util:{objToHtml:function(b){var c,d,e,f,g,h,i,j,k,l,m,n;if(/string|number|boolean/.test(typeof b))return b.toString();if(b instanceof Array){h="";for(k=0,m=b.length;k<m;k++)f=b[k],h+=a.util.objToHtml(f);return h}if(typeof b!="object")return b.toString();d=[];for(g in b)j=b[g],g==="tagName"?i=j:g==="childNodes"?e=j:d.push({key:g,val:j});i||(i="div"),h="<"+i;for(l=0,n=d.length;l<n;l++)c=d[l],h+=" "+c.key+'="'+c.val+'"';return/^(br|hr|img|link|meta|input)$/i.test(i)?h+=" />":(h+=">",e&&(typeof e=="string"?h+=e:typeof e=="object"&&(h+=a.util.objToHtml(e))),h+="</"+i+">"),h}}}),h=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(""+b+"="+encodeURIComponent(d));return c.join("&")},i=function(a,b){return"display:inline-block;*display:inline;height:"+b+";margin:0;padding:0;position:relative;vertical-align:top;width:"+a+";zoom:1;"},g=function(b,c){return c=a.extend({autoLoad:!1,autoPlay:!1,chromeless:!1,controlsVisibleOnLoad:!1,doNotTrack:!1,hasLoaded:!!b.params.hasLoaded,hasPlayed:!!b.params.hasPlayed,endVideoBehavior:"default",endVideoCallback:"",flashPlayerUrl:null,fullscreenButton:!0,pageUrl:null,playButton:!0,playbar:!0,playerColor:"",smallPlayButton:!0,stillUrl:j(b,{playButton:!1}),volumeControl:!1,wmode:"opaque"},c),c.unbufferedSeek=/flv/.test(b.data.asset.type),c.shouldTrack=!c.doNotTrack,c},e=function(b){var c,e,f,j,k,l,m;return c=b.data.asset,j=b.data.media,m=b.params,m=g(b,m),f=d(b,m),k={tagName:"object",id:b.uuid,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",style:i("100%","100%")},m.wmode!=="transparent"&&(k.bgcolor="#000000"),l=[{tagName:"param",name:"movie",value:m.flashPlayerUrl||j.flashPlayerUrl},{tagName:"param",name:"allowfullscreen",value:"true"},{tagName:"param",name:"allowscriptaccess",value:"always"},{tagName:"param",name:"wmode",value:m.wmode},{tagName:"param",name:"flashvars",value:h(f)}],e={tagName:"embed",src:m.flashPlayerUrl||j.flashPlayerUrl,name:b.uuid,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",wmode:m.wmode,flashvars:h(f),style:i("100%","100%")},m.wmode!=="transparent"&&(e.bgcolor="#000000"),k.childNodes=l.concat(e),a.detect.flash.version<9&&(k["class"]="wistia_no_flash"),a.detect.browser.msie&&(a.detect.browser.version<9||a.detect.browser.quirks)&&a.detect.flash.version<9&&(k.childNodes=[{style:"background:#666;color:#fff;height:100%;width:100%;","class":"noflash",childNodes:['Whoops! It looks like Flash isn\'t installed. Please \n<a href="http://get.adobe.com/flashplayer/" style="color:white;text-decoration:underline;" target="_blank">\ndownload and install Adobe\'s Flash Player plugin\n</a>\nto watch this video.']}]),a.util.objToHtml(k)},f=function(b){var c,d,e,f,g,h;return c=b.data.asset,d=b.data.media,e=b.params,e=a.extend({autoLoad:!0,autoPlay:!1,doNotTrack:!1,stillUrl:j(b,{playButton:!1})},e),e.shouldTrack=!e.doNotTrack,h=document.createElement("video"),h.style.width="100%",h.style.height="100%",h.style.position="relative",h.style.display="block",h.controls="controls",h.id=b.uuid,h.preload="none",h.poster=j(b,{playButton:!1}),g=document.createElement("source"),g.src=c.url.replace(/\.bin$/,"")+"/file.mp4",g.type="video/mp4",h.appendChild(g),a.detect.backgroundSize?(f=document.createElement("div"),f.id=""+b.uuid+"_poster",f.className="wistia_poster",f.style.backgroundImage="url("+j(b,{playButton:e.playButton!=null?e.playButton:!0})+")",f.style.backgroundColor="#000000",f.style.backgroundSize="cover",f.style.backgroundPosition="center center",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="100%",f.style.height="100%",f.style.cursor="pointer"):(f=document.createElement("img"),f.id=""+b.uuid+"_poster",f.className="wistia_poster",f.src=j(b,{playButton:e.playButton!=null?e.playButton:!0}),f.style.backgroundColor="#000000",f.style.position="absolute",f.style.left="0px",f.style.top="0px",f.style.width="100%",f.style.height="100%",f.style.cursor="pointer"),[h,f]},b=function(b){var c,d,e,f,g;return d=b.data.asset,f=b.data.media,g=b.params,g=a.extend({playButton:!0,stillUrl:j(b)},g),c={tagName:"a",href:d.url,id:b.uuid,target:"_parent",style:i("100%","100%")},a.detect.backgroundSize&&!a.detect.android?e={tagName:"div",src:g.stillUrl,border:0,alt:"Play video",style:"background-image:url("+g.stillUrl+");background-position:center center;background-size:cover;display:inline-block;*display:inline;height:100%;vertical-align:top;width:100%;zoom:1;"
}:e={tagName:"img",src:g.stillUrl,border:0,alt:"Play video",style:"height:100%;vertical-align:top;width:100%;"},c.childNodes=[e],a.util.objToHtml(c)},j=function(b,c){var d,e,f,g;return d=b.data.media,c=a.extend({},b.params,c),e=d.assets.still,g=c.videoWidth||a.obj.get(b,"params.videoWidth")||b.videoWidth(),f=c.videoHeight||a.obj.get(b,"params.videoHeight")||b.videoHeight(),b.options.stillUrl?c.stillUrl:g===0||f===0?e.url.replace(/\.bin$/,".jpg"):c.playButton==null||c.playButton?e.url.replace(/\.bin$/,".jpg?image_play_button=1&image_crop_resized="+Math.min(e.width,g)+"x"+Math.min(e.height,f)+(c.playerColor!=null?"&image_play_button_color="+c.playerColor+"e0":"")):e.url.replace(/\.bin$/,".jpg?image_crop_resized="+Math.min(e.width,g)+"x"+Math.min(e.height,f))},d=function(b,c){var d,e,f,g,h,i,j,k,l;d=b.data.asset,f=b.data.media,g={autoLoad:c.autoLoad,autoPlay:c.autoPlay&&!b.suppressPlay(),banner:f.branding||c.branding?!0:null,chromeless:c.chromeless?!0:null,controlsVisibleOnLoad:c.controlsVisibleOnLoad,customColor:c.flashPlayerVersion>=2?c.playerColor:null,endVideoBehavior:c.endVideoBehavior,endVideoCallback:c.endVideoCallback?c.endVideoCallback:null,fullscreenDisabled:c.fullscreenButton===!1?!0:null,hasLoaded:!!b.params.hasLoaded,hasPlayed:!!b.params.hasPlayed,hdUrl:((i=f.assets)!=null?(j=i.hdflv)!=null?j.url:void 0:void 0)||((k=f.assets)!=null?(l=k.mdflv)!=null?l.url:void 0:void 0)||"",mediaDuration:f.duration,playButtonVisible:c.playButton,quality:a.detect.ps3&&!c.videoQuality?"sd-only":c.videoQuality,referrer:c.pageUrl,showPlayButton:c.smallPlayButton===!1?!1:null,showPlaybar:c.playbar===!1?!1:null,showVolume:c.volumeControl?!0:null,stillUrl:c.stillUrl,trackingTransmitInterval:c.trackingTransmitInterval||f.trackingTransmitInterval||null,unbufferedSeek:/flv/.test(d.type),videoUrl:d.url,wemail:c.trackEmail},a.detect.android&&(g.quality="sd-only"),c.shouldTrack&&!c.trackWithJs&&(g.embedServiceURL=c.distilleryUrl||f.distilleryUrl,g.accountKey=c.accountKey||f.accountKey,g.mediaID=c.mediaKey||f.mediaKey);for(e in g)h=g[e],h==null&&delete g[e];return g},c=function(a,b){return b=g(a,b),""+a.data.media.flashPlayerUrl+"?"+h(d(a,b))},a.extend({generate:{video:function(a,d,g){if(a==="flash")return e(d,g);if(a==="html5")return f(d,g);if(a==="external")return b(d,g);if(a==="stillUrl")return j(d,g);if(a==="flashUrl")return c(d,g)}}})}(Wistia),function(a){a._embed.Video=function(){function b(b,c){this.data=b,this.options=c,this.ready=a.createReadyFunction(this),this.hasData=a.createReadyFunction(this),this.plugin||(this.plugin={}),this.plugins||(this.plugins={}),this.inferParams(),this}return b.prototype.inferParams=function(){var b,c,d,e,f,g;this.params=a.extend(this.params||{},this.options),this.container=a._embed.getContainer(this.data,this.options),this.options.platformPreference&&(this.params.plea=this.options.platformPreference),this.params.shouldTrack=!this.options.doNotTrack,this.options.playButtonVisible!=null&&(this.params.playButton=this.options.playButtonVisible),this.params.rawEmbed!=null?this.params.rawEmbed=a.obj.cast(this.params.rawEmbed):this.options._inIframe!=null?this.params.rawEmbed=!a.obj.cast(this.options._inIframe||!1):this.params.rawEmbed=!0,this.params.videoWidth&&(this.params.videoWidth=parseInt(this.params.videoWidth,10)),this.params.videoHeight&&(this.params.videoHeight=parseInt(this.params.videoHeight,10)),this.params.aspectRatio=this.params.videoWidth/this.params.videoHeight,this.params.playerColor||(this.params.playerColor="636155"),this.params.hasLoaded=a._embed.hasLoaded(this.hashedId()),this.params.hasPlayed=a._embed.hasPlayed(this.hashedId()),this.params.seekThreshold=this.options.seekThreshold||1.5,this.options.trackWithJs!=null?this.params.trackWithJs=this.options.trackWithJs:this.embedType==="html5"?this.params.trackWithJs=!0:this.embedType==="flash"&&((f=this.options.plugin)!=null?f["requireEmail-v1"]:void 0)?this.params.trackWithJs=!0:this.params.trackWithJs=!1;if(this.params.playerColor&&this.params.playerColor.length<6){d="";for(b=0,g=6-this.params.playerColor.length;0<=g?b<g:b>g;0<=g?b++:b--)d+="0";this.params.playerColor=d+this.params.playerColor}return a.obj.exists(this.data,"media.flashPlayerUrl")&&(this.params.flashPlayerVersion=parseFloat(this.data.media.flashPlayerUrl.match(/embed_player_v(\d+\.\d+)\.swf/)[1])),!this.params.trackEmail&&this.params.shouldTrack&&(e=(this.params.pageUrl||location.href).match(/wemail\=([^\&]+)/),e=e?e[1]:null,c=a.localStorage([this.params.pageUrl||location.href,"trackEmail"]),e?(this.params.trackEmail=e,a.localStorage([this.params.pageUrl||location.href,"trackEmail"],e)):c&&(this.params.trackEmail=c)),this.params.uuid||(this.params.uuid=a.seqId()),this.uuid=this.params.uuid,this.params.videoFoam!=null&&this.videoFoam(this.params.videoFoam),this.params.volume!=null&&this.volume(this.params.volume),this.params.time!=null&&this.time(this.params.time),this},b.prototype.embed=function(){return this.embedAs(this.embedType)},b.prototype.monitor=function(){var b,c,d,e,f,g,h;c=__bind(function(){return this.params.rawEmbed&&a.detect.browser.old?this.width():this.params.rawEmbed?a.util.elemWidth(this.container):a.util.winWidth()},this),b=__bind(function(){return this.params.rawEmbed&&a.detect.browser.old?this.height():this.params.rawEmbed?a.util.elemHeight(this.container):a.util.winHeight()},this),g=this._startingWidth,e=this._startingHeight,f=this.width(),d=!1,h=__bind(function(){var i,j,k;if(!this._isDown&&this.isDown())this._isDown=!0,this.ready(!1),this.trigger("down");else if(this._isDown&&!this.isDown()){this._isDown=!1,this.ready(!1),this.rebuildAs(this.embedType),a.timeout(""+this.uuid+".monitor",h,500),this.trigger("up");return}if(this.ready()&&!this._isDown&&!this.isDown())if(this.container&&!this.container.parentNode)this.remove();else if(this.params.rawEmbed&&this.videoFoam()){j=a.util.elemWidth(this.container.parentNode);if(f!==j||!d)d=!0,this.width(j),f=j,this.videoHeight(this.videoWidth()/this.params.aspectRatio)}else this.params.dontMonitorSize||(k=c(),i=b(),g!==k&&(this.width(k),this.trigger("widthchange",k,g),g=k),e!==i&&(this.height(i),this.trigger("heightchange",i,e),e=i));a.timeout(""+this.uuid+".monitor",h,500)},this),a.timeout(""+this.uuid+".monitor",h)},b.prototype.embedAs=function(b){return this.embedCode=a.generate.video(b,this),this.placeEmbed(this.embedCode),this.monitor(),this},b.prototype.placeEmbed=function(b){var c,d,e,f,g;this.params.subContainer?c=this.container:c=((g=this.grid)!=null?g.center:void 0)||this.container;if(typeof b=="string")c.innerHTML=b;else{c.innerHTML="";if(a.obj.isArray(b))for(e=0,f=b.length;e<f;e++)d=b[e],c.appendChild(d);else c.appendChild(b)}return this.ieSizeHack()},b.prototype._rebuildAs=function(a,b){var c;return b==null&&(b={}),this.ready(!1),this._wipeOutstandingAsyncFunctions(),this._resetStateVariables(),c=this._newSubclassFromSelf(a,b),this._copyPropertiesFrom(c),this.embed(this.container),this.fit(),this.trigger("afterrebuild"),this},b.prototype._newSubclassFromSelf=function(b,c){var d,e,f;return d=a.extend({},this.options,c,{force:b}),e=a.judy.judge(this.data.media,d),f=a._embed.classFor(e.embedType),new f(e,d)},b.prototype._copyPropertiesFrom=function(a){var b,c,d,e;b={ready:!0,hasData:!0,plugin:!0,uuid:!0},e=[];for(c in a)d=a[c],e.push(b[c]?void 0:this[c]=d);return e},b.prototype._wipeOutstandingAsyncFunctions=function(){return this.ready("queue",[]),this.hasData("queue",[]),a.clearTimeouts(this.uuid)},b.prototype._resetStateVariables=function(){return this._lastTimePosition=-1,this._lastState="beforeplay",this._streamSet=!1,this._issuedPlay=!1},b.prototype.rebuild=function(a){return a==null&&(a={}),this._rebuildAs(this.embedType),this.reinitializePlugins(),this},b.prototype.rebuildWithoutPlugins=function(a){return a==null&&(a={}),this._rebuildAs(this.embedType,a)},b.prototype.rebuildAs=function(a,b){return this._rebuildAs(a,b),this.reinitializePlugins(),this},b.prototype.replace=function(b,c){var d,e;return c.container=this.container.id,e=this.uuid,this.ready(!1),d=a.judy.judge(b,c),this.data.media={},this.data=a.extend({},this.data,d),this.options=c,this.params={},this.inferParams(),this.uuid=this.data.uuid=e,this.embedType==="flash"&&(this._lastState="beforeplay"),this.embed(),this},b.prototype.fit=function(){this.grid?(a.detect.browser.old&&(this.container.style.width=""+this.params.videoWidth+"px",this.container.style.height=""+this.params.videoHeight+"px"),this.grid.wrapper.style.height=""+a.util.elemHeight(this.container)+"px",this.grid.wrapper.style.width=""+a.util.elemWidth(this.container)+"px",this.grid.main.style.height=""+a.util.elemHeight(this.container)+"px",a.grid.fitVertical(this),a.grid.fitHorizontal(this)):a.detect.browser.old&&(this.container.style.width=""+this.params.videoWidth+"px",this.container.style.height=""+this.params.videoHeight+"px")},b.prototype.reinitializePlugins=function(){var b,c,d,e;c=a.extend({},this.plugins),e=this.plugins;for(d in e)b=e[d],b.remove();for(d in c)b=c[d],b.init(this,a.extend({},b.options,{uuid:b.uuid}))},b.prototype.isDown=function(){return!this.container||!a.util.elemInDom(this.container)||a.util.elemIsHidden(this.container)},b.prototype.remove=function(){this.trigger("beforeremove"),a.clearTimeouts(this.uuid),a.removeData(["video",this.uuid]),this.ready("queue",[]),this.container.innerHTML="",this.trigger("down"),this.trigger("afterremove")},b.prototype._eventLoopDuration=300,b.prototype.play=function(){return this.ready(__bind(function(){return this.play()},this))},b.prototype.suppressPlay=function(a){return a!=null?this._suppressPlay=!!a:this._suppressPlay},b.prototype.videoFoam=function(a){return a!=null?this._videoFoam=!!a:this._videoFoam},b.prototype.pause=function(){return this.ready(__bind(function(){return this.pause()},this))},b.prototype.time=function(a){return a!=null?(this.ready(__bind(function(){return this.time(a)},this)),this):0},b.prototype.state=function(){return"beforeplay"},b.prototype.duration=function(){return 0},b.prototype.volume=function(a){return a!=null?this.ready(__bind(function(){return this.volume(a)},this)):0},b.prototype.name=function(){return a.obj.get(this,"data.media.name")||""},b.prototype.hashedId=function(){return a.obj.get(this,"data.media.hashedId")||this._hashedId||""},b.prototype.setPlayerColor=function(a){return this.ready(__bind(function(){return this.setPlayerColor(a)},this)),this},b.prototype.width=function(b){var c,d;return b!=null?(b=parseInt(b,10),c=this.width(),this.grid?(this.container.style.width=this.grid.wrapper.style.width=""+b+"px",this.grid.center.style.width="100%",this.embedType==="flash"&&(this.elem().style.width="100%"),a.grid.fitHorizontal(this),a.grid.fitVertical(this)):(this.container.style.width=""+b+"px",this.embedType==="flash"&&(this.elem().style.width="100%")),b!==c&&this.trigger("widthchange",b,c),this):(a.detect.browser.old&&(this.elem().style.position="absolute"),this.grid?d=a.util.elemWidth(this.grid.left)+a.util.elemWidth(this.grid.center)+a.util.elemWidth(this.grid.right):d=a.util.elemWidth(this.container),a.detect.browser.old&&(this.elem().style.position="static"),d)},b.prototype.height=function(b){var c,d;return b!=null?(b=parseInt(b,10),c=this.height(),this.grid?(this.container.style.height=this.grid.wrapper.style.height=""+b+"px",this.grid.center.style.height="100%",this.embedType==="flash"&&(this.elem().style.height="100%"),a.grid.fitHorizontal(this),a.grid.fitVertical(this)):(this.container.style.height=""+b+"px",this.embedType==="flash"&&(this.elem().style.height="100%")),b!==c&&this.trigger("heightchange",b,c),this):(a.detect.browser.old&&(this.elem().style.position="absolute"),this.grid?d=a.util.elemHeight(this.grid.center)+Math.max(a.util.elemHeight(this.grid.above),a.util.elemHeight(this.grid.top))+Math.max(a.util.elemHeight(this.grid.below),a.util.elemHeight(this.grid.bottom)):d=a.util.elemHeight(this.container),a.detect.browser.old&&(this.elem().style.position="static"),d)},b.prototype.videoWidth=function(b){var c,d,e,f,g;return b!=null?(b=parseInt(b,10),d=this.width(),this.grid?(this.grid.center.style.width="100%",this.grid.main.style.width=""+b+"px",this.grid.main.style.width=""+b+"px",c=a.util.elemWidth(this.grid.left)+a.util.elemWidth(this.grid.right),this.container.style.width=this.grid.wrapper.style.width=""+(b+c)+"px",a.grid.fitHorizontal(this),a.grid.fitVertical(this),this.width()!==d&&this.trigger("widthchange",b,d)):(this.container.style.width=""+b+"px",this.embedType==="flash"&&(this.elem().style.width="100%")),this):(a.detect.browser.old&&this.elem&&(f=this.elem())!=null&&(f.style.position="absolute"),this.grid?e=a.util.elemWidth(this.grid.center):e=a.util.elemWidth(this.container),a.detect.browser.old&&this.elem&&(g=this.elem())!=null&&(g.style.position="static"),e)},b.prototype.videoHeight=function(b){var c,d,e,f,g,h,i;return b!=null?(b=parseInt(b,10),e=this.height(),this.grid?(this.grid.main.style.height=""+b+"px",this.grid.center.style.height="100%",this.grid.main.style.height=""+b+"px",g=Math.max(a.util.elemHeight(this.grid.above),a.util.elemHeight(this.grid.top)),c=Math.max(a.util.elemHeight(this.grid.below),a.util.elemHeight(this.grid.bottom)),d=g+c,this.container.style.height=this.grid.wrapper.style.height=""+(b+d)+"px",a.grid.fitHorizontal(this),a.grid.fitVertical(this)):(this.container.style.height=""+b+"px",this.embedType==="flash"&&(this.elem().style.height="100%")),this.height()!==e&&this.trigger("heightchange",b,e),this):(a.detect.browser.old&&this.elem&&(h=this.elem())!=null&&(h.style.position="absolute"),this.grid?f=a.util.elemHeight(this.grid.center):f=a.util.elemHeight(this.container),a.detect.browser.old&&this.elem&&(i=this.elem())!=null&&(i.style.position="static"),f)},b.prototype.addPlugin=function(b,c){return c==null&&(c={}),this.hasPlugin(b)||a.plugin._inject(this,b,c),this},b.prototype.hasPlugin=function(a){return!!this.plugin[a]},b.prototype.ieSizeHack=function(){a.detect.browser.msie&&this.elem&&this.elem()&&(this.elem().offsetLeft%2===0?this.elem().style.width=""+(this.videoWidth()+1)+"px":this.elem().style.width="100%")},b.prototype.setEmail=function(b){return this.params.trackEmail=b,a.localStorage([this.params.pageUrl||location.href,"trackEmail"],b),this.trigger("emailchange",b)},b.prototype.email=function(b){return b!=null?(this.params.trackEmail=b,a.localStorage([this.params.pageUrl||location.href,"trackEmail"],b),this.trigger("emailchange",b)):this.params.trackEmail||""},b.prototype.visitorKey=function(){return this.tracker?this.tracker.visitorKey():""},b.prototype.eventKey=function(){return this.tracker?this.tracker.eventKey():""},b.prototype.getVisitorKey=function(){return this.visitorKey()},b.prototype.getEventKey=function(){return this.eventKey()},b}(),a.mixin(a._embed.Video.prototype,a.bindable)}(Wistia),function(a){a._embed.FlashVideo=function(){function b(){b.__super__.constructor.apply(this,arguments)}return __extends(b,a._embed.Video),b.prototype.embedType="flash",b.prototype.elem=function(){return document[this.uuid]},b.prototype.embed=function(){var c;return b.__super__.embed.apply(this,arguments),this.elem().wistiaApi=this,this._lastTimePosition=-1,this._lastVolume=null,this._lastState="beforeplay",c=__bind(function(b){var d;b==null&&(b=0);if(b>=25)return;this.elem()&&this._allFuncsUp()?a.timeout(""+this.uuid+".ready_delay",__bind(function(){this.ready(!0),this.listenForEvents(),this.tracker||(this.tracker=a.tracker(this));if(this.params.trackWithJs)return this.tracker.monitor()},this),200):(d=this,a.timeout(""+this.uuid+".ready_check",function(){return c.call(d,b+1)},Math.max(1e3,50+b*75)))},this),c(),this},b.prototype._allFuncsUp=function(){var a,b,c,d;d=["getCurrentTime","getCurrentState","videoPlay","videoSeek","getVolume","setVolume"];for(b=0,c=d.length;b<c;b++){a=d[b];if(!this.elem()[a])return!1}return!0},b.prototype.listenForEvents=function(){this._fireIfChanged=__bind(function(){var b,c,d;a.timeout(""+this.uuid+".fire_if_changed",__bind(function(){return this._fireIfChanged()},this),this._eventLoopDuration),!this._isDown&&this.elem()&&this._allFuncsUp()&&(b=this.state(),c=this.time(),d=this.volume(),b!==this._lastState&&(this.trigger("statechange",b),b==="playing"?this.trigger("play"):b==="paused"?this.trigger("pause"):b==="ended"?this.trigger("end"):this._lastState==="playing"&&b==="beforeplay"&&this.params.endVideoBehavior==="reset"&&this.trigger("end")),d!==this._lastVolume&&(this.trigger("volumechange",d),this._lastVolume=d),c!==this._lastTimePosition&&c>0&&(this.trigger("timechange",c),Math.floor(c)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(c)),Math.abs(c-this._lastTimePosition)>this.params.seekThreshold&&this.trigger("seek",c,this._lastTimePosition),this._lastTimePosition=c),this._lastState=b)},this),this._fireIfChanged()},b.prototype.play=function(){return this.suppressPlay()?this:(this.ready(__bind(function(){var a;return a=__bind(function(){return this.elem().videoPlay(),this.unbind},this),this._seeking?this.bind("play-seek",a):a()},this)),this)},b.prototype.pause=function(){return this.ready(__bind(function(){var a;return a=__bind(function(){return this.elem().videoPause(),this.unbind},this),this._seeking?this.bind("play-seek",a):a()},this)),this},b.prototype.time=function(a){if(a!=null)return this.suppressPlay()?this:(this.ready(__bind(function(){var b,c,d;d=this.state();if(!this._streamSet||d==="beforeplay"||d==="ended")return this._seeking=!0,this.elem().videoPlay(),c=this,b=__bind(function(){return this._streamSet=!0,this.elem().videoSeek(a),this._seeking=!1,this.trigger("play-seek",a),this.unbind},this),d!=="playing"&&this.pause(),this.bind("timechange",b);this.elem().videoSeek(a);if(d==="paused"||d==="ended")return this.pause()},this)),this);try{return this.elem().getCurrentTime()||0}catch(b){return-1}},b.prototype.state=function(){try{switch(this.elem().getCurrentState()){case 0:return"ended";case 1:return"playing";case 2:return"paused";default:return"beforeplay"}}catch(a){return"beforeplay"}},b.prototype.volume=function(a){var b;return a!=null?(this.ready(__bind(function(){var b;return b=this.volume(),this.elem().setVolume(Math.min(Math.round(a*100),100)),this.trigger("volumechange",this.volume(),b)},this)),this):(b=this.elem().getVolume(),b>0&&(b/=100),b)},b.prototype.duration=function(){return this.data.media.duration},b.prototype.getVisitorKey=function(){try{return this.elem().getVisitorKey()}catch(a){return""}},b.prototype.getEventKey=function(){try{return this.elem().getEventKey()}catch(a){return""}},b.prototype.setPlayerColor=function(a){this.params.playerColor=a,this.params.flashPlayerVersion>=2&&(this.ready()?this.elem().changeColor(a):this.ready("setPlayerColor",a))},b.prototype.setEmail=function(a){return b.__super__.setEmail.call(this,a),this.elem().setEmail(a)},b.prototype.email=function(a){var c;return a!=null?(c=b.__super__.email.call(this,a),this.elem().setEmail(a),c):b.__super__.email.apply(this,arguments)},b}()}(Wistia),function(a){var b;return b=function(a,b,c){var d;d=__bind(function(){return a.removeEventListener(b,d),c()},this),a.addEventListener(b,d)},a._embed.Html5Video=function(){function c(){c.__super__.constructor.apply(this,arguments)}return __extends(c,a._embed.Video),c.prototype.embedType="html5",c.prototype.elem=function(){return document.getElementById(this.uuid)},c.prototype.posterElem=function(){return document.getElementById(""+this.uuid+"_poster")},c.prototype.isDown=function(){return c.__super__.isDown.apply(this,arguments)||!this.elem()},c.prototype.embed=function(){if(!this.container.style.position||this.container.style.position==="static")this.container.style.position="relative";return this.tracker||(this.tracker=a.tracker(this)),this.ready(__bind(function(){this.isDown()?this.bind("up",__bind(function(){return this.tracker.initialize(),this.unbind},this)):this.tracker.initialize()},this)),this.embedHtml5(),(a.detect.ipad||a.detect.iphone)&&this.bind("end",__bind(function(){var b;this.showPoster();if(this.hasPostRoll)b=this.params.suppressAutoplay,this.params.suppressAutoplay=!0,this.embedHtml5(),this.params.suppressAutoplay=b;else if(a.detect.iphone||a.detect.ipad)this.elem().style.width="1px"},this)),this},c.prototype.replace=function(b,c){var d,e,f,g;return this.trigger("beforeremove"),a.clearTimeouts(this.uuid),c.container=this.container.id,g=this.uuid,f=a.judy.judge(b,c),this.data.media={},this.data=a.extend({},this.data,f),this.options=c,this.inferParams(),this.uuid=this.data.uuid=g,e=a.generate.video("stillUrl",this,{}),this.elem().poster=this.posterElem().src=e,this.posterElem().style.backgroundImage="url("+e+")",this.showPoster(),/mp4hq|hdmp4|iphone/.test(this.data.asset.type)?d=this.data.asset:d=this.data.media.assets.mp4hq||this.data.media.assets.iphone,this.elem().src=this.elem().childNodes[0].src=d.url.replace(/\.bin$/,"/file.mp4"),this.params.autoPlay&&!this.suppressPlay()&&(this.elem().load(),this.elem().addEventListener("loadeddata",__bind(function(){return this.elem().style.width="100%",this.hidePoster(),this.play()},this))),a.timeout(""+this.uuid+".unfullscreen_if_preroll",__bind(function(){if(this.hasPreRoll)return this.embed()},this)),this},c.prototype.embedHtml5=function(){this._lastTimePosition=-1,this._lastState="beforeplay",this.ready(!1),this.embedAs("external"),this.embedAs("html5"),this.elem().wistiaApi=this,this.bindPoster(),this.params.shouldTrack&&this.ready(__bind(function(){return this.isDown()?this.bind("up",__bind(function(){return this.tracker.monitor(),this.unbind},this)):this.tracker.monitor()},this));if(a.detect.iphone||a.detect.ipad)this.elem().style.width="1px";this.elem().addEventListener("playing",__bind(function(){return this.trigger("play")},this)),this.elem().addEventListener("pause",__bind(function(){return this.trigger("pause")},this)),this.elem().addEventListener("ended",__bind(function(){return this.trigger("end")},this)),this.elem().addEventListener("volumechange",__bind(function(){return this.trigger("volumechange",this.volume())},this)),this.listenForEvents(),this.isDown()||(a.detect.iphone||a.detect.ipad?this.ready(!0):a.timeout(""+this.uuid+".delayed_ready",__bind(function(){return this.ready(!0)},this)));if(this.params.autoPlay&&!this.suppressPlay())return this.play()},c.prototype.bindPoster=function(){var b,c,d,e;return b=__bind(function(){this.posterElem().style.opacity=.5},this),c=__bind(function(){this.posterElem().style.opacity=1},this),d=__bind(function(){a.timeout(""+this.uuid+".lighten_poster",__bind(function(){c()},this),400)},this),e=__bind(function(){this.elem().style.width="100%",this.hidePoster(),this.elem().play()},this),this.bind("play",e),this.posterElem().addEventListener("touchstart",b),this.posterElem().addEventListener("touchend",d),this.posterElem().addEventListener("mousedown",b),this.posterElem().addEventListener("mouseup",d),this.posterElem().addEventListener("click",e)},c.prototype.hidePoster=function(){return this.posterElem().style.display="none"},c.prototype.showPoster=function(){return this.posterElem().style.display="block"},c.prototype.positionPoster=function(){var a,b,c,d,e,f,g,h,i,j,k;return g=Math.min(this.params.videoWidth,this.data.media.assets.still.width),f=Math.min(this.params.videoHeight,this.data.media.assets.still.height),e=f?g/f:1.333,i=this.videoWidth(),h=this.videoHeight(),b=i/h,e>b?(k=h-f,c=i/e,a=Math.round((h-c)/2),this.posterElem().style.width="100%",this.posterElem().style.height=""+i/e+"px",this.posterElem().style.borderTop=this.posterElem().style.borderBottom=""+a+"px solid #000"):(j=i-g,d=h*e,a=Math.round((i-d)/2),this.posterElem().style.height="100%",this.posterElem().style.width=""+d+"px",this.posterElem().style.borderLeft=this.posterElem().style.borderRight=""+a+"px solid #000")},c.prototype.listenForEvents=function(){this._bindings||(this._bindings={}),this._fireIfChanged=__bind(function(){var b,c;a.timeout(""+this.uuid+".fire_if_changed",__bind(function(){return this._fireIfChanged()},this),this._eventLoopDuration),this.isDown()||(b=this.state(),b!==this._lastState&&(this.trigger("statechange",b),this._lastState=b),(c=this.time())!==this._lastTimePosition&&c>0&&(this.trigger("timechange",c),Math.floor(c)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(c)),Math.abs(c-this._lastTimePosition)>this.params.seekThreshold&&this.trigger("seek",c,this._lastTimePosition),this._lastTimePosition=c))},this),this._fireIfChanged()},c.prototype.play=function(){return this.suppressPlay()?this:(this.ready(__bind(function(){var a;return a=__bind(function(){return/video/i.test(this.elem().tagName)?this.ready(__bind(function(){return b(this.elem(),"playing",__bind(function(){return this._issuedPlay=!1},this)),this.elem().play()},this)):(this.embedHtml5(),this.play())},this),this._issuedPlay=!0,this._seeking?this.bind("play-seek",function(){return a(),this.unbind}):a()},this)),this)},c.prototype.pause=function(){return this.ready(__bind(function(){var a;return a=__bind(function(){return/video/i.test(this.elem().tagName)&&this.elem().pause(),this.unbind},this),this._seeking?this.bind("play-seek",a):a(),this._issuedPlay=!1,this},this))},c.prototype._waitForTimeChangeOrSeek=function(c){return a.detect.browser.msie?this.bind("timechange",__bind(function(){return c(),this.unbind},this)):b(this.elem(),"seeked",__bind(function(){return c()},this))},c.prototype.time=function(c){var d;return c!=null?this.suppressPlay()?this:(this.ready(__bind(function(){var d;return d=this._issuedPlay||this.state()==="playing",this.state()==="beforeplay"?(b(this.elem(),"playing",__bind(function(){return a.detect.iphone||a.detect.ipad?b(this.elem(),"canplaythrough",__bind(function(){return b(this.elem(),"progress",__bind(function(){return b(this.elem(),"seeked",__bind(function(){return this._seeking=!1,d||this.pause(),this.trigger("play-seek")},this)),this.elem().currentTime=c},this))},this)):(this._waitForTimeChangeOrSeek(__bind(function(){return this._seeking=!1,d||this.pause(),this.trigger("play-seek")},this)),this.elem().currentTime=c)},this)),this.play(),this._seeking=!0):(this._waitForTimeChangeOrSeek(__bind(function(){return this._seeking=!1,d||this.pause(),this.trigger("play-seek")},this)),this._seeking=!0,this.elem().currentTime=c)},this)),this):((d=this.elem())!=null?d.currentTime:void 0)||0},c.prototype.state=function(){try{return this.elem().ended?"ended":this.elem().played.length===0&&this.time()===0?"beforeplay":this.elem().paused?"paused":"playing"}catch(a){return"unknown"}},c.prototype.volume=function(a){var b;return a!=null?this.ready(__bind(function(){return this.elem().volume=a,this},this)):((b=this.elem())!=null?b.volume:void 0)||0},c.prototype.duration=function(){return this.data.media.duration},c.prototype.setPlayerColor=function(){},c.prototype.redrawPoster=function(){return this.posterElem&&this.posterElem()&&(this.posterElem().style.visibility="hidden",this.posterElem().offsetTop,this.posterElem().style.visibility="visible"),this},c.prototype.videoWidth=function(){var b,d,e;return e=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],d=c.__super__.videoWidth.apply(this,[e].concat(__slice.call(b))),a.detect.iphone&&e!=null&&this.redrawPoster(),d},c.prototype.videoHeight=function(){var b,d,e;return d=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],e=c.__super__.videoHeight.apply(this,[d].concat(__slice.call(b))),a.detect.iphone&&d!=null&&this.redrawPoster(),e},c.prototype.width=function(){var b,d,e;return e=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],d=c.__super__.width.apply(this,[e].concat(__slice.call(b))),a.detect.iphone&&e!=null&&this.redrawPoster(),d},c.prototype.height=function(){var b,d,e;return d=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[],e=c.__super__.height.apply(this,[d].concat(__slice.call(b))),a.detect.iphone&&d!=null&&this.redrawPoster(),e},c}()}(Wistia),function(a){return a._embed.ExternalVideo=function(){function b(){b.__super__.constructor.apply(this,arguments)}return __extends(b,a._embed.Video),b.prototype.embedType="external",b.prototype.elem=function(){return document.getElementById(this.uuid)},b.prototype.embed=function(){return b.__super__.embed.apply(this,arguments),this.elem().wistiaApi=this,/img/i.test(this.elem().childNodes[0].tagName)?this.params.stillUrl=this.elem().childNodes[0].src:this.params.stillUrl=a.util.elemStyle(this.elem().childNodes[0],"background-image").match(/url\((.*?)\)/)[1],a.util.bindEvent(this.elem(),"click",__bind(function(){return this.trigger("play"),a.timeout(""+this.uuid+".fake_video_end",__bind(function(){return this.trigger("end")},this),500),!0},this)),this.tracker||(this.tracker=a.tracker(this)),a.timeout(""+this.uuid+".async_ready",__bind(function(){if(!this.isDown())return this.ready(!0)},this)),this},b.prototype.duration=function(){return this.data.media.duration},b.prototype.play=function(){return this},b.prototype.time=function(a){return a!=null?this:0},b.prototype.pause=function(){return this},b.prototype.volume=function(a){return a!=null?this:1},b}()}(Wistia),function(a){return a.extend({tracker:function(b,c){return new a.VideoTracker(b,c||{})}}),a.VideoTracker=function(){function b(b,c){this.video=b,this.options=c,this.params=a.extend({transmitInterval:1e4},this.options),this.eventQueue=[],this.clockStart=(new Date).getTime(),this._eventKey=this.newEventKey(),this._visitorKey=this.visitorKeyFromFlash()||this.visitorKeyFromCookie()||this.newVisitorKey(),this.onPlay=this.onPause=this.onEnd=this.onSeek=function(){},this.monitoring=!1,this.dataPrefix="",this.dataSuffix="",this}return b.prototype.conversions={"missing-conversion":0,"pre-roll-email":1,"post-roll-email":2,"mid-roll-email":3,"post-roll-click":4,"mid-roll-click":5,"non-video":6},b.prototype._dataPrefix=function(){var a;return a='{\n"account_key":"'+this.video.data.media.accountKey+'",\n"session_id":"'+this._visitorKey+'",\n"media_id":"'+this.video.data.media.mediaKey+'",\n"event_key":"'+this._eventKey+'",\n"hasLoaded":'+!!this.video.params.hasLoaded+',\n"hasPlayed":'+!!this.video.params.hasPlayed+',\n"media_duration":'+parseFloat(this.video.data.media.duration)+',\n"referrer":"'+(this.video.params.pageUrl||window.location.href)+'",',this.video.params.trackEmail&&(a+='"email":"'+this.video.params.trackEmail+'",'),this.params.conversionType&&(a+='"conversion_type":"'+this.conversions[this.params.conversionType]+'",'),this.params.conversionData&&(a+='"conversion_data":"'+this.params.conversionData+'",'),a+='"event_details":[',a},b.prototype._dataSuffix=function(){return"]}"},b.prototype.visitorKeyFromFlash=function(){var a;return this.video.embedType==="flash"?a=this.video.getVisitorKey():null},b.prototype.visitorKeyFromCookie=function(){var a,b,c;a=document.cookie.split("; "),b=0;while(b<a.length){c=a[b].split("=");if(c[0]==="__distillery")return c[1];b++}},b.prototype.newVisitorKey=function(){var a,b;return this.video._visitorKey?b=this.video._visitorKey:b=(new Date).getTime().toString()+"-"+Math.random(),a=new Date,a.setTime(a.getTime()+31536e6),document.cookie="__distillery="+b+"; expires="+a.toGMTString()+"; path=/",b},b.prototype.newEventKey=function(){return this.video.embedType==="flash"?this.video.getEventKey():(new Date).getTime().toString()+"e"+Math.random()},b.prototype.initialize=function(){return this.initializedOnce||(this.initializedOnce=!0,this.log("initialized"),this.transmit()),this},b.initializedOnce=!1,b.prototype.monitor=function(){this.stopMonitoring(),this.initialize(),this.onPlay=__bind(function(){this.log("play")},this),this.onPause=__bind(function(){Math.abs(this.video.duration()-this.video.time())>.3&&this.log("pause")},this),this.onEnd=__bind(function(){this.log("end"),this.transmit()},this),this.onSeek=__bind(function(a,b){Math.abs(b-a)>=5&&this.log("seek")},this),this.monitoring=!0,this.video.bind("play",this.onPlay),this.video.bind("pause",this.onPause),this.video.bind("end",this.onEnd),this.video.bind("seek",this.onSeek),a.timeout(""+this.video.uuid+".start_tracking_timeout",__bind(function(){var b;b=__bind(function(){return this.video.state()==="playing"&&this.log("update"),this.transmit(),a.timeout(""+this.video.uuid+".tracking_loop",b,this.params.transmitInterval)},this),a.timeout(""+this.video.uuid+".tracking_loop",b,this.params.transmitInterval),this.transmit()},this),Math.random()*this.params.transmitInterval+1e3),this.video.state()==="playing"&&this.onPlay()},b.prototype.stopMonitoring=function(){this.monitoring=!1,this.video.unbind("play",this.onPlay),this.video.unbind("pause",this.onPause),this.video.unbind("end",this.onEnd),this.video.unbind("seek",this.onSeek)},b.prototype.sendToDistillery=function(b){a.remote.script(""+this.video.data.media.distilleryUrl+"?data="+encodeURIComponent
(b))},b.prototype.transmit=function(b){var c;b==null&&(b={});if(this.video.params.doNotTrack)return;if(this.eventQueue.length>0||b.force)c=this._dataPrefix()+this.eventQueue.join(",")+this._dataSuffix(),this.sendToDistillery(a.base64.encode(c)),this.eventQueue=[]},b.prototype.log=function(a,b,c){var d,e;if(this.video.params.doNotTrack)return;e=this.video.time(),e==null&&(this.video.state()==="unknown"?e=0:e=this.video.duration()),e=e.toFixed(1),d=(new Date).getTime()-this.clockStart,a==="conversion"?(this.params.conversionType=b,this.params.conversionData=c,this.transmit({force:!0})):this.eventQueue.push('{\n"key":"'+a+'",\n"value":'+e+',\n"timeDelta":'+d+"\n}")},b.prototype.visitorKey=function(){return this._visitorKey},b.prototype.eventKey=function(){return this._eventKey},b}()}(Wistia),Wistia.extend({base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i,j;i=0,j="";while(i<a.length)b=a.charCodeAt(i++),c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=b>>2,f=(b&3)<<4|c>>4,g=(c&15)<<2|d>>6,h=d&63,isNaN(c)?g=h=64:isNaN(d)&&(h=64),j=j+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return j}}}),function(a){return a.extend({constant:{appHost:"app.wistia.com",sslAppHost:"app.wistia.com",embedHost:"fast.wistia.com",sslEmbedHost:"fast.wistia.com",oembedHost:"get-embed.wistia.com",externalEmbedHost:"fast.wistia.net",externalSslEmbedHost:"fast.wistia.net"},remote:{embedHost:function(b){return b==null&&(b=window.location.protocol),b==="https:"?a.constant.sslEmbedHost:a.constant.embedHost},externalEmbedHost:function(b){return b==null&&(b=window.location.protocol),b==="https:"?a.constant.externalSslEmbedHost:a.constant.externalEmbedHost},appHost:function(b){return b==null&&(b=window.location.protocol),b==="https:"?a.constant.sslAppHost:a.constant.appHost},script:function(b,c){var d,e,f,g,h;f=document.createElement("script"),g=document.getElementsByTagName("script")[0],f.src=b,f.async=!0,f.type="text/javascript",h=f.id=a.seqId(),d=null,e=!1,f.onreadystatechange=f.onload=function(){var a;a=f.readyState,!e&&c&&(!a||/loaded|complete/.test(a))&&(e=!0,c()),clearTimeout(d),d=setTimeout(function(){var a;if(a=document.getElementById(h))return a.parentNode.removeChild(a)},500)},g.parentNode.insertBefore(f,g)},scripts:function(b,c){var d,e;if(b.length===0){c&&c();return}b=b.slice(0),e=b.shift(),e.async=e.async!=null?e.async:!0;if(e.fn){try{e.fn()}catch(f){typeof console!="undefined"&&console!==null&&console.log(f.message),typeof console!="undefined"&&console!==null&&console.log(f.stack)}return a.remote.scripts(b,c)}return e.async?(a.remote.script(e.src),a.remote.scripts(b,c)):(d=setTimeout(function(){return a.remote.scripts(b,c)},6e3),a.remote.script(e.src,function(){return clearTimeout(d),a.remote.scripts(b,c)}))},post:function(a){var b;b=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest,b.open("POST",a,!0),b.send()},media:function(b,c){var d;a.data(["remote-media",b])?a.timeout("remote-media."+b+"."+a.seqId(),function(){return c(a.data(["remote-media",b]))}):(d=""+(location.protocol==="https:"?"https:":"http:")+"//"+a.constant.embedHost+"/embed/medias/"+b+".json",this.fetch(d,{},function(d){d.error?(a.data(["remote-media",b],d),c(d)):(a.data(["remote-media",b],d.media),c(d.media))},{onerror:function(){window.console&&console.log("Timed out fetching "+d)},timeout:1e4}))},playlist:function(b,c){var d;a.data(["remote-playlist",b])?a.timeout("remote-playlist."+b+"."+a.seqId(),function(){return c(a.data(["remote-playlist",b]))}):(d=""+(location.protocol==="https:"?"https:":"http:")+"//"+a.constant.embedHost+"/embed/playlists/"+b+".json",this.fetch(d,{},function(d){a.data(["remote-playlist",b],d),c(d)},{onerror:function(){window.console&&console.log("Timed out fetching "+d)},timeout:1e4}))},fetch:function(b,c,d,e){var f;e.timeout||(e.timeout=5e3),e.onerror||(e.onerror=function(){}),f=setTimeout(e.onerror,e.timeout),a.jsonp.get(b,c,function(a){clearTimeout(f),d&&d(a)})}}})}(Wistia),Wistia.jsonp||(Wistia.jsonp=function(){function f(a){var c=document.createElement("script"),d=!1;c.src=a,c.async=!0,c.onload=c.onreadystatechange=function(){!d&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(d=!0,c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c))},b||(b=document.getElementsByTagName("head")[0]),b.appendChild(c)}function g(b,g,h){c="?",g=g||{};for(d in g)g.hasOwnProperty(d)&&(c+=encodeURIComponent(d)+"="+encodeURIComponent(g[d])+"&");var i="json"+ ++a;return e[i]=function(a){h(a);try{delete e[i]}catch(b){}e[i]=null},f(b+c+"callback="+i),i}var a=0,b,c,d,e=this;return{get:g}}()),function(a){a.Plugin||(a.Plugin={}),a.Plugin.Base=function(){function b(){this.pluginName="plugin",this}return b.prototype.instances=function(){return a.data(["plugins",this.pluginName,this.video.uuid])},b.prototype.register=function(b){var c;return c=this.playlist||this.video,c.plugins[this.uuid]=b,a.data(["plugins",this.pluginName,c.uuid,this.uuid],b)},b.prototype.remove=function(){var b;b=this.playlist||this.video,b.plugins[this.uuid]=null,a.removeData(["plugins",this.pluginName,b.uuid,this.uuid]),delete b.plugins[this.uuid],delete b.plugin[this.pluginName];if(b.grid)return a.grid.fitHorizontal(b),a.grid.fitVertical(b)},b.prototype.fit=function(){},b.prototype.init=function(b,c){return b.plugins==null&&(b.plugins={}),a._playlist&&b instanceof a._playlist.Base?this.playlist=b:this.video=b,this.options=c||{},this.params=a.extend({},c||{}),this.uuid=this.params.uuid||a.seqId("wistia_","_plugin")},b}();if(!a.plugin)return a.plugin=function(b,c){var d,e,f;if(d=(e=a.pluginQueue)!=null?(f=e[b])!=null?f.shift():void 0:void 0)d.video&&d.video.isDown()?d.video.bind("up",function(){return d.video.plugin[b]=c(d.video,d.options)||!0,this.unbind}):d.video.plugin[b]=c(d.video,d.options)||!0;if(!a.plugin[b])return a.plugin[b]=c},a.plugin._scriptsFromVideo=function(b){var c,d,e,f,g,h;f=[],h=b.options.plugin;for(d in h)e=h[d],c={name:d,options:e,src:""+a.proto()+"//"+a.remote.embedHost()+"/static/"+d+".js",async:e.async!=null?e.async:!/^(requireEmail|socialbar|transcript)/.test(d)},e.src&&a.plugin._allow3rdParty(b)&&(c.src=e.src),d==="transcript"&&(a.proto()==="https:"?g="https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js":g="http://p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js",f.push({src:g,async:!1})),f.push(c);return a.plugin._setFnForDefinedPlugins(b,f),f=a.plugin._concatScripts(f),f},a.plugin._inject=function(b,c,d){var e,f;return d==null&&(d={}),e=""+a.proto()+"//"+a.remote.embedHost()+"/static/"+c+".js",f=[{name:c,options:d,src:d.src&&a.plugin._allow3rdParty(b)?d.src:e,async:!0}],a.plugin._setFnForDefinedPlugins(b,f),a.plugin._execQueue(b,f)},a.plugin._concatScripts=function(b){var c,d,e,f,g,h;d=[],f=[];for(g=0,h=b.length;g<h;g++)e=b[g],!e.fn&&a.plugin._isStaticAsset(e.src)?f.push(e):d.push(e);return f.length>1?(c=a.plugin._concatStaticAssetUrl(function(){var a,b,c;c=[];for(a=0,b=f.length;a<b;a++)e=f[a],c.push(e.name);return c}()),d.unshift({subScripts:f,src:c,async:!1})):d=d.concat(f),d},a.plugin._isStaticAsset=function(b){return b.indexOf(""+a.proto()+"//"+a.remote.embedHost()+"/static/")===0&&!/\/static\/concat\//.test(b)},a.plugin._staticAssetUrl=function(b){return""+a.proto()+"//"+a.remote.embedHost()+"/static/"+b+".js"},a.plugin._concatStaticAssetUrl=function(b){return b instanceof Array&&(b=b.join(",")),""+a.proto()+"//"+a.remote.embedHost()+"/static/concat/"+b+".js"},a.plugin._allow3rdParty=function(a){return!/([\w\_\-]+\.)?wistia\.(com|st)$/.test(window.location.hostname)},a.plugin._setFnForDefinedPlugins=function(b,c){var d,e,f,g;g=[];for(e=0,f=c.length;e<f;e++)d=c[e],a.plugin[d.name]&&g.push(function(c){return c.fn=function(){return b.plugin[c.name]=a.plugin[c.name](b,c.options)||!0}}(d));return g},a.plugin._queueUndefinedPlugins=function(b,c){var d,e,f,g,h,i;a.pluginQueue==null&&(a.pluginQueue={}),i=[];for(g=0,h=c.length;g<h;g++)e=c[g],i.push(function(){var c,g,h,i;if(e.subScripts){h=e.subScripts,i=[];for(c=0,g=h.length;c<g;c++)f=h[c],d=f.name||f.src,a.pluginQueue[d]==null&&(a.pluginQueue[d]=[]),i.push(e.fn?void 0:a.pluginQueue[d].push({video:b,options:f.options}));return i}d=e.name||e.src,a.pluginQueue[d]==null&&(a.pluginQueue[d]=[]);if(!e.fn)return a.pluginQueue[d].push({video:b,options:e.options})}());return i},a.plugin._execQueue=function(b,c,d){return a.plugin._queueUndefinedPlugins(b,c),a.remote.scripts(c,d)},a.plugin._init=function(b,c,d){var e,f,g;return g=b.charAt(0).toUpperCase()+b.substr(1),f=a.Plugin[g],e=new f,e.init(c,d),e},a.plugin._instance=function(b,c,d){return a.data(["plugins",b,c.uuid,d])},a.plugin._remove=function(b,c,d){var e;(e=a.plugin._instance(b,c,d))!=null&&e.remove()},a.plugin._isActive=function(b,c,d){return!!a.plugin._instance(b,c,d)},a.plugin._defined=function(){var b,c,d,e;d=a.plugin,e=[];for(b in d)c=d[b],/^_/.test(b)||e.push({name:b,options:c});return e}}(Wistia),function(a){return a.extend({seo:{writeMeta:function(a,b){this.metaExists(a)||this.forceWriteMeta(a,b)},forceWriteMeta:function(a,b){var c,d;d=document.getElementsByTagName("script")[0],c=document.createElement("meta"),c.setAttribute("property",a),c.setAttribute("content",b),d.parentNode.insertBefore(c,d)},metaExists:function(a){var b,c,d,e;e=document.getElementsByTagName("meta");for(c=0,d=e.length;c<d;c++){b=e[c];if(b.getAttribute("property")===a)return!0}return!1},inject:function(b,c){var d,e,f,g;c==null&&(c={}),this.metaExists("og:video")||(f=a.judy.judge(b,c),e=f.media,g=e.sitemap_entry,d={data:f,options:c,params:c,videoWidth:function(){return 0},videoHeight:function(){return 0}},this.writeMeta("og:type","article"),this.writeMeta("og:title",(g!=null?g.title:void 0)||document.title||e.name),this.writeMeta("og:url",(g!=null?g.loc:void 0)||location.href),this.writeMeta("og:image",a.generate.video("stillUrl",d)),this.writeMeta("og:video",a.generate.video("flashUrl",d)),c.videoWidth&&this.writeMeta("og:video:width",c.videoWidth),c.videoHeight&&this.writeMeta("og:video:height",c.videoHeight),this.writeMeta("og:video:type","application/x-shockwave-flash"))}}})}(Wistia),function(a){a.extend({localStorage:function(b,c){var d;if(!a.detect.localstorage||!a.detect.json)return;return d=a.data("localStorage")||{},c!=null?(a.obj.set(d,b,c),a.timeout("commit_local_storage",function(){return localStorage.wistia=JSON.stringify(d)},50),c):b!=null?a.obj.get(d,b):d},dumpLocalStorage:function(){if(!a.detect.localstorage||!a.detect.json)return;a.removeData("localStorage"),localStorage.removeItem("wistia")}});if(a.detect.localstorage&&a.detect.json)return localStorage.wistia?a.data("localStorage",JSON.parse(localStorage.wistia)):a.data("localStorage",{})}(Wistia),function(a){a.extend({gridifyCss:function(a){return"#"+a+"_wrapper{font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#"+a+"_above{position:relative;}\n#"+a+"_main{display:block;height:100%;position:relative;}\n#"+a+"_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+a+"_center{height:100%;position:relative;width:100%;}\n#"+a+"_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+a+"_top_inside{position:absolute;left:0;top:0;width:100%;}\n#"+a+"_top{width:100%;position:absolute;bottom:0;left:0;}\n#"+a+"_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#"+a+"_bottom{width:100%;position:absolute;top:0;left:0;}\n#"+a+"_left_inside{height:100%;position:absolute;left:0;top:0;}\n#"+a+"_left{height:100%;position:absolute;right:0;top:0;}\n#"+a+"_right_inside{height:100%;right:0;position:absolute;top:0;}\n#"+a+"_right{height:100%;left:0;position:absolute;top:0;}\n#"+a+"_below{position:relative;}"},gridifyHtml:function(a){return{id:""+a+"_wrapper",childNodes:[{id:""+a+"_above"},{id:""+a+"_main",childNodes:[{id:""+a+"_behind"},{id:""+a+"_center"},{id:""+a+"_front"},{id:""+a+"_top_inside",childNodes:{id:""+a+"_top"}},{id:""+a+"_bottom_inside",childNodes:{id:""+a+"_bottom"}},{id:""+a+"_left_inside",childNodes:{id:""+a+"_left"}},{id:""+a+"_right_inside",childNodes:{id:""+a+"_right"}}]},{id:""+a+"_below"}]}},gridify:function(b,c){var d,e,f,g,h,i;e={},d=""+c.id+"_grid",a.detect.browser.old&&(c.style.width=""+a.util.elemWidth(c)+"px",c.style.height=""+a.util.elemHeight(c)+"px"),c.innerHTML=a.util.objToHtml(a.gridifyHtml(d)),i=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"];for(g=0,h=i.length;g<h;g++)f=i[g],e[f]=document.getElementById(""+d+"_"+f);return a.util.addInlineCss(e.wrapper,a.gridifyCss(d)),a.detect.browser.old?b.rawEmbed&&b.aspectRatio&&(e.main.style.height=""+a.util.elemWidth(e.center)/b.aspectRatio+"px"):(e.wrapper.style.height=""+a.util.elemHeight(c)+"px",e.main.style.width=""+a.util.elemWidth(c)+"px"),e},grid:{allNodesHidden:function(a){var b,c,d;if(a.length===0)return!0;for(c=0,d=a.length;c<d;c++){b=a[c];if(b.style&&b.style.display!=="none")return!1}return!0},zeroEmptySections:function(a){var b,c,d,e,f,g;f=["top","bottom","left","right","above","below"],g=[];for(d=0,e=f.length;d<e;d++)c=f[d],b=a.grid[c],g.push(b.childNodes.length?this.allNodesHidden(b.childNodes)?(b.style.height="0px",b.style.fontSize="0px",b.style.lineHeight="0px",b.isEmpty=!0):(b.style.height="",b.style.fontSize="",b.style.lineHeight=""):(b.appendChild(document.createTextNode(" ")),b.style.height="0px",b.style.fontSize="0px",b.style.lineHeight="0px",b.isEmpty=!0));return g},wrapperHeight:function(b){var c,d;return c=b.grid.wrapper,d=a.util.elemHeight(c),a.detect.browser.old&&(b.params.rawEmbed&&b.container&&(d=parseInt(b.container.currentStyle.height,10)),b.params.rawEmbed||(d=a.util.winHeight())),d},wrapperWidth:function(b){return a.util.elemWidth(b.grid.wrapper)},fitVertical:function(b){var c,d,e,f,g,h,i,j,k;this.zeroEmptySections(b),d=b.grid,f=d.main,j=d.wrapper,i=Math.max(a.util.elemHeight(d.above),a.util.elemHeight(d.top)),c=Math.max(a.util.elemHeight(d.below),a.util.elemHeight(d.bottom)),g=Math.max(0,this.wrapperHeight(b)-i-c),f.style.height=""+g+"px",a.util.elemWidth(d.left)===0&&(f.style.left="0px"),f.style.marginTop=""+a.util.elemHeight(d.top)+"px",k=b.plugins;for(h in k)e=k[h],e.fit()},fitHorizontal:function(b){var c,d,e,f,g,h,i,j,k;this.zeroEmptySections(b),c=b.grid,j=c.wrapper,f=c.main,e=a.util.elemWidth(c.left),i=a.util.elemWidth(c.right),g=this.wrapperWidth(b)-e-i,f.style.width=g+"px",f.style.left=e+"px",k=b.plugins;for(h in k)d=k[h],d.fit()},fit:function(a,b){/left|right/.test(b)?this.fitHorizontal(a):/top|bottom|above|below/.test(b)&&this.fitVertical(a),a.ieSizeHack()}}})}(Wistia),function(a){return a.Color=function(){function i(b){b instanceof a.Color?(this.r=b.r,this.g=b.g,this.b=b.b,this.a=b.a):b?this.parse(b):(this.r=this.g=this.b=0,this.a=1),this}var b,c,d,e,f,g,h;return f=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,h=/^rgba?\((\d{1,3}%?),\s*(\d{1,3}%?),\s*(\d{1,3}%?)(,\s*[01]?\.?\d*)?\)$/,g=/^\d+(\.\d+)*%$/,c=/([0-9a-f])/gi,b=function(a){return.5+a<<0},e=function(a){return g.test(a)?b(parseInt(a,10)*2.55):a},d=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+(b-a)*6*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a},i.prototype.parse=function(a){var b,d;if(f.test(a)){d=a.replace(/^\#/,"");if(d.length===3||d.length===4)d=d.replace(c,"$1$1");this.r=parseInt(d.substr(0,2),16),this.g=parseInt(d.substr(2,2),16),this.b=parseInt(d.substr(4,2),16),d.length===8?this.a=parseInt(d.substr(6,2),16)/255:this.a=1}else h.test(a)&&(b=a.match(h),this.r=e(b[1]),this.g=e(b[2]),this.b=e(b[3]),b[5]?this.a=parseFloat(b[5]):this.a=1);return this},i.prototype.clone=function(){return new a.Color(this)},i.prototype._hslFromRgb=function(){var a,c,d,e,f,g,h,i,j,k;return i=this.r/255,d=this.g/255,a=this.b/255,g=Math.max(i,d,a),h=Math.min(i,d,a),f=(g+h)/2,k=g,g===h&&(this._h=this._s=0),c=g-h,j=f>.5?c/(2-g-h):c/(g+h),g===i?e=(d-a)/c+(d<a?6:0):g===d?e=(a-i)/c+2:e=(i-d)/c+4,e/=6,this._h=b(e*360),this._s=b(j*100),this._l=b(f*100),this},i.prototype._rgbFromHsl=function(){var a,c,e,f,g;return a=this._h/360,g=this._s/100,c=this._l/100,f=c<.5?c*(1+g):c+g-c*g,e=2*c-f,this.r=b(d(e,f,a+1/3)*255),this.g=b(d(e,f,a)*255),this.b=b(d(e,f,a-1/3)*255),this},i.prototype.blendChannel=function(a,b,c){return this[a]=Math.round(c*b+(1-c)*this[a]),this},i.prototype.blend=function(b,c){return b=new a.Color(b),this.blendChannel("r",b.r,c),this.blendChannel("g",b.g,c),this.blendChannel("b",b.b,c),this},i.prototype.lightenChannel=function(a,b){return this[a]+=b,this[a]<0?this[a]=0:this[a]>255&&(this[a]=255),this},i.prototype.lighten=function(a){return this.lightenChannel("r",a),this.lightenChannel("g",a),this.lightenChannel("b",a),this},i.prototype.darken=function(a){return this.lighten(-a)},i.prototype.lightness=function(a){return this._hslFromRgb(),a!=null?(this._l=Math.max(0,Math.min(100,a)),this._rgbFromHsl(),this):this._l},i.prototype.saturation=function(a){return this._hslFromRgb(),a!=null?(this._s=Math.max(0,Math.min(100,a)),this._rgbFromHsl(),this):this._s},i.prototype.grayLevel=function(){return(.299*this.r+.587*this.g+.114*this.b)/255},i.prototype.whiteLevel=function(){return Math.min(Math.min(this.r,this.g),this.b)},i.prototype.alpha=function(a){return this.a!=null?(this.a=a,this):this.a},i.prototype.red=function(a){return a!=null?(this.r=a,this):this.r},i.prototype.green=function(a){return this.g!=null?(this.g=a,this):this.g},i.prototype.blue=function(a){return this.b!=null?(this.b=a,this):this.b},i.prototype.toHex=function(){var a,b,c;return c=Math.round(this.r).toString(16),b=Math.round(this.g).toString(16),a=Math.round(this.b).toString(16),c.length===1&&(c="0"+c),b.length===1&&(b="0"+b),a.length===1&&(a="0"+a),""+c+b+a},i.prototype.toHexWithAlpha=function(){var a;return a=Math.round(this.a*255).toString(16),a.length===1&&(a="0"+a),""+a+this.toHex()},i.prototype.toRgb=function(){return"rgb("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+")"},i.prototype.toRgba=function(){return"rgba("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+","+this.a+")"},i.prototype.toIeGradient=function(){return"progid:DXImageTransform.Microsoft.gradient(startColorStr='#"+this.toHexWithAlpha()+"', endColorStr='#"+this.toHexWithAlpha()+"')"},i.prototype.toString=function(){return this.toRgba()},i}()}(Wistia);
var __slice=Array.prototype.slice;(function(a){return a.iframeInit=function(b,c){var d,e,f,g,h,i,j,k,l;j=a.url.parse(location.href),d=a.extend(c,j.params),d.pageUrl||(d.pageUrl=j.absolute().replace(/\#.*$/,"")),d.pageTitle=document.title,g=""+(d.playerColor||""),f=a.obj.get(d,"plugin.requireEmail-v1.list"),a.obj.castDeep(d),d.playerColor=""+(g||""),f!=null&&a.obj.set(d,"plugin.requireEmail-v1.list",f),d.container="wistia_video",d.canonicalUrl||(d.canonicalUrl=d.pageUrl),d.canonicalTitle||(d.canonicalTitle=d.pageTitle),l=d.plugin||{};for(e in l)k=l[e],d.plugin[e].outsideIframe&&(d.plugin[e]=null,delete d.plugin[e]);j.params.popover&&a.obj.get(j.params,"plugin.requireEmail")&&(j.params.autoPlay=!1),d._inIframe=!0,window.wistiaEmbed=a.embed(b,d),a.timeout(""+wistiaEmbed.uuid+".fit_later",function(){return window.wistiaEmbed.fit()},100),j.params.twitter&&top===self&&wistiaEmbed.play(),(a.detect.iphone||a.detect.ipad)&&wistiaEmbed.ready(function(){return setInterval(function(){return wistiaEmbed.elem().style.zoom="",wistiaEmbed.elem().style.zoom=1},3e3)}),i=function(b){var c;return c={},Wistia.obj.eachLeaf(b,function(b,d){if(/^string|number|boolean$/i.test(typeof b))return a.obj.set(c,d,b)}),c};if(!a.detect.browser.ltie8){if(top===self)return;return window.apiSignature=null,parent.postMessage("new-wistia-iframe","*"),wistiaEmbed.postMessage=function(){var b,c,d;d=arguments[0],b=2<=arguments.length?__slice.call(arguments,1):[];if(parent===self)return;return c={signature:apiSignature,method:d,args:b},a.detect.browser.msie&&(c=a.JSON.stringify(c)),parent.postMessage(c,"*")},wistiaEmbed.bind("down",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!0})}),wistiaEmbed.bind("up",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!1})}),wistiaEmbed.bind("volumechange",function(a){return wistiaEmbed.postMessage("updateProperties",{_volume:a})}),wistiaEmbed.bind("emailchange",function(a){return wistiaEmbed.postMessage("updateProperties",{_email:a})}),wistiaEmbed.bind("timechange",function(a){return wistiaEmbed.postMessage("updateProperties",{_time:a})}),wistiaEmbed.bind("statechange",function(a){return wistiaEmbed.postMessage("updateProperties",{_state:a})}),wistiaEmbed.bind("widthchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoWidth:wistiaEmbed.videoWidth(),_width:wistiaEmbed.width()})}),wistiaEmbed.bind("heightchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoHeight:wistiaEmbed.videoHeight(),_height:wistiaEmbed.height()})}),wistiaEmbed.bind("all",function(){var a;a=1<=arguments.length?__slice.call(arguments,0):[];if(a[0]==="afterremove")return wistiaEmbed.postMessage("trigger",a[0]);if(!/^up|down$/.test(a[0]))return wistiaEmbed.postMessage.apply(wistiaEmbed,["_trigger"].concat(__slice.call(a)))}),h=function(b){var c,d,e;if(b.data==="remove"){wistiaEmbed.remove();return}if(a.detect.browser.msie)try{d=a.JSON.parse(b.data)}catch(f){typeof console!="undefined"&&console!==null&&console.log("Could not parse message from "+b.origin),typeof console!="undefined"&&console!==null&&console.log(b.data),d={}}else d=b.data;e=d.method,c=d.args;if(e==="startIframeHandshake")return window.apiSignature=c[0],wistiaEmbed.postMessage("trigger","iframebound"),wistiaEmbed.postMessage("updateProperties",{options:i(wistiaEmbed.options),params:i(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_hashedId:wistiaEmbed.hashedId(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed.hasData(function(){return wistiaEmbed.postMessage("updateProperties",{options:i(wistiaEmbed.options),params:i(wistiaEmbed.params),_name:wistiaEmbed.name(),_duration:wistiaEmbed.duration()}),wistiaEmbed.postMessage("hasData",!0)}),wistiaEmbed.ready(function(){return wistiaEmbed.postMessage("updateProperties",{options:i(wistiaEmbed.options),params:i(wistiaEmbed.params),_visitorKey:wistiaEmbed.getVisitorKey(),_eventKey:wistiaEmbed.getEventKey(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed.postMessage("trigger","videoready")});if(e)return typeof wistiaEmbed!="undefined"&&wistiaEmbed!==null?wistiaEmbed[e].apply(wistiaEmbed,c):void 0},a.util.bindEvent(window,"message",h,!1)}}})(Wistia);

